<!doctype html>
<html data-n-head-ssr data-n-head="">
    <head data-n-head="">
        <title data-n-head="true">创蓝闪验-创蓝253-免密认证_一键登录_一键认证_闪验</title><meta data-n-head="true" charset="utf-8"><meta data-n-head="true" name="renderer" content="webkit|ie-comp|ie-stand"><meta data-n-head="true" http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta data-n-head="true" name="viewport" content="width=device-width, initial-scale=1"><meta data-n-head="true" data-hid="keywords" name="keywords" content="免密认证，免密登录，一键登录，一键认证，本机号登录，本机号认证，闪验，极验，极光认证"><meta data-n-head="true" data-hid="description" name="description" content="创蓝闪验集成三网运营商一键登录+本机号码认证,给用户带来3秒完成注册的快感,有效提升注册流程转换率，覆盖全国99.99%号码，价格优惠，稳定可靠。"><link data-n-head="true" rel="icon" type="image/x-icon" href="https://static.253.com/favicon.ico"><link data-n-head="true" rel="stylesheet" href="/css/doc.css"><script data-n-head="true" src="/js/browser.js"></script><script data-n-head="true" >console.log(BrowserMatch.version);if (!Object.defineProperty || (BrowserMatch.browser == "IE" && parseInt(BrowserMatch.version) <= 10)) {
            location.href = '/no-compati.html';
        }</script><script data-n-head="true" src="/js/qrcode.min.js"></script><link rel="preload" href="/_nuxt/8d056adb7e9f1b88b3d7.js" as="script"><link rel="preload" href="/_nuxt/562819d5bb565713fe86.js" as="script"><link rel="preload" href="/_nuxt/7c90047a44712f347fb6.css" as="style"><link rel="preload" href="/_nuxt/d05e5ad6bf80d7b94e15.js" as="script"><link rel="preload" href="/_nuxt/6a7e6d271f2ce0927054.css" as="style"><link rel="preload" href="/_nuxt/d98ed623b7b0d88d34e6.js" as="script"><link rel="preload" href="/_nuxt/cfcbec73ed60735744b3.css" as="style"><link rel="preload" href="/_nuxt/fce6144227f1f7af22b6.js" as="script"><link rel="stylesheet" href="/_nuxt/7c90047a44712f347fb6.css"><link rel="stylesheet" href="/_nuxt/6a7e6d271f2ce0927054.css"><link rel="stylesheet" href="/_nuxt/cfcbec73ed60735744b3.css">
            </head>
    <body data-n-head="">
        <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="api-layout" data-v-7b866eb2><section class="viewport-header" style="background-color:#1b1d2d;" data-v-8737f69a data-v-7b866eb2><header data-v-8737f69a><h1 class="logo" data-v-8737f69a><a href="/" class="nuxt-link-active" data-v-8737f69a><img src="/images/logo.png" alt="闪验、创蓝闪验" data-v-8737f69a></a></h1> <nav data-v-8737f69a><ul data-v-8737f69a><li data-v-8737f69a><a data-v-8737f69a>闪验</a></li><li data-v-8737f69a><a data-v-8737f69a>实人认证</a></li><li class="active" data-v-8737f69a><a data-v-8737f69a>文档中心</a></li><li data-v-8737f69a><a href="https://www.253.com/group_index" target="_blank" data-v-8737f69a>关于创蓝</a></li></ul></nav> <div class="btn-wrap" data-v-8737f69a><div data-v-8737f69a><button type="button" class="btn ivu-btn ivu-btn-text" data-v-8737f69a><!----> <!----> <span>控制台</span></button> <div class="line" data-v-8737f69a></div> <button type="button" class="btn ivu-btn ivu-btn-text" data-v-8737f69a><!----> <!----> <span>请登录</span></button> <button type="button" class="btn-primary ivu-btn ivu-btn-primary" data-v-8737f69a><!----> <!----> <span>免费注册</span></button></div></div></header></section> <div class="content" data-v-7b866eb2><div data-v-cd4a530a data-v-7b866eb2><section class="api-container" data-v-cd4a530a><div class="flash-menu" data-v-cd4a530a><nav data-v-cd4a530a><h3 data-v-cd4a530a>闪验SDK</h3> <ul class="ivu-menu ivu-menu-light ivu-menu-vertical" style="width:240px;" data-v-cd4a530a><li class="ivu-menu-submenu" data-v-cd4a530a><div class="ivu-menu-submenu-title"><span class="frist-menu" data-v-cd4a530a>产品指南</span> <i class="ivu-icon ivu-icon-ios-arrow-down ivu-menu-submenu-title-icon"></i></div> <ul class="ivu-menu" style="display:none;"> <li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>使用手册</li><li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>账号创建</li><li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>业务流程</li><li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>客户案例</li></ul></li><li class="ivu-menu-submenu" data-v-cd4a530a><div class="ivu-menu-submenu-title"><span class="frist-menu" data-v-cd4a530a>常见问题</span> <i class="ivu-icon ivu-icon-ios-arrow-down ivu-menu-submenu-title-icon"></i></div> <ul class="ivu-menu" style="display:none;"> <li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>售前问题</li><li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>账号创建</li><li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>对接问题</li></ul></li><li class="ivu-menu-submenu" data-v-cd4a530a><div class="ivu-menu-submenu-title"><span class="frist-menu" data-v-cd4a530a>开发文档</span> <i class="ivu-icon ivu-icon-ios-arrow-down ivu-menu-submenu-title-icon"></i></div> <ul class="ivu-menu" style="display:none;"> <li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>Android V2.2.0</li><li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>IOS V2.2.0</li><li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>服务端</li><li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>升级指南</li><li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>返回码</li></ul></li><li class="ivu-menu-submenu" data-v-cd4a530a><div class="ivu-menu-submenu-title"><span class="frist-menu" data-v-cd4a530a>资源下载</span> <i class="ivu-icon ivu-icon-ios-arrow-down ivu-menu-submenu-title-icon"></i></div> <ul class="ivu-menu" style="display:none;"> <li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>SDK文档下载</li><li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>Android v2.1.3</li><li class="ivu-menu-item" style="padding-left:43px;" data-v-cd4a530a>iOS v2.1.3</li></ul></li></ul></nav></div> <div class="flash-api" data-v-cd4a530a><div class="breadcrumbs ivu-breadcrumb" data-v-cd4a530a><span data-v-cd4a530a><span class="ivu-breadcrumb-item-link">文档中心</span> <span class="ivu-breadcrumb-item-separator"></span></span> <span data-v-cd4a530a><span class="ivu-breadcrumb-item-link">闪验SDK</span> <span class="ivu-breadcrumb-item-separator"></span></span> <span data-v-cd4a530a><span class="ivu-breadcrumb-item-link">开发文档</span> <span class="ivu-breadcrumb-item-separator"></span></span> <span data-v-cd4a530a><span class="ivu-breadcrumb-item-link">IOS V2.2.0</span> <span class="ivu-breadcrumb-item-separator"></span></span></div> <div class="doc-wrap" data-v-cd4a530a><article class="doc-cont lake-engine-view" data-v-cd4a530a><h1 id="oTlgD"><span style="background-color: transparent;">概述</span><br /></h1><p><br /></p><p><span class="lake-fontsize-12" style="color: #000000;"><strong><span>当前版本：2.2.0.4</span></strong></span></p><p><span class="lake-fontsize-12" style="color: #000000;"><strong><span>发版时间：2019年07月08</span></strong></span></p><p><span class="lake-fontsize-12" style="color: #000000;"><strong><span>文档最后更新时间：2019年07月09日</span></strong></span></p><p><br /></p><p><span class="lake-fontsize-12" style="color: #000000;"><strong><span>常见问题请移步至</span></strong></span><span class="lake-fontsize-12" style="color: #1890FF;"><strong><span>「</span></strong></span><a href="http://flash.253.com/document/details?lid=297&amp;cid=92&amp;pc=28&amp;pn=%25E9%2597%25AA%25E9%25AA%258CSDK" target="_blank"><span class="lake-fontsize-12" style="color: #1890FF;"><strong><span>对接问题</span></strong></span></a><span class="lake-fontsize-12" style="color: #1890FF;"><strong><span>」</span></strong></span></p><p><span class="lake-fontsize-12" style="color: #000000;"><strong><span>崩溃问题请移步至</span></strong></span><span class="lake-fontsize-12" style="color: #1890FF;"><strong><span>「</span></strong></span><span class="lake-fontsize-12" style="color: #1890FF;"><strong><span><a href="http://flash.253.com/document/details?lid=297&amp;cid=92&amp;pc=28&amp;pn=%25E9%2597%25AA%25E9%25AA%258CSDK" target="_blank">崩溃问题</a>」</span></strong></span></p><p><a href="http://flash.253.com/document/details?labelId=374&amp;labelName=%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97&amp;cateId=93&amp;productCode=28&amp;productName=%E9%97%AA%E9%AA%8CSDK" target="_blank"></a><span class="lake-fontsize-12" style="color: #000000;"><strong>版本更新：所有版本通用方式——替换SDK静态库， 删除旧版本SDK所有相关的`.framework`</strong></span><span class="lake-fontsize-12" style="color: #000000;"><strong>`.bundle`</strong></span><span class="lake-fontsize-12" style="color: #000000;"><strong>文件，清除缓存，再导入新版SDK中的所有`.framework`</strong></span><span class="lake-fontsize-12" style="color: #000000;"><strong>`.bundle`</strong></span><span class="lake-fontsize-12" style="color: #000000;"><strong>文件（</strong></span><span class="lake-fontsize-12" style="color: #000000;"><strong>.bundle</strong><strong>文件注意保留开发者自定义资源），详细说明请移步至「</strong></span><span class="lake-fontsize-12"><strong><span style="color: #1890FF;"><a href="http://flash.253.com/document/details?lid=374&amp;cid=93&amp;pc=28&amp;pn=%25E9%2597%25AA%25E9%25AA%258CSDK" target="_blank">升级指南</a>」</span></strong></span></p><p><span class="lake-fontsize-12" style="color: #000000;"><strong><span>如需SDK及相关文档下载请移步至</span></strong></span><span class="lake-fontsize-12" style="color: #1890FF;"><strong><span>「</span></strong></span><span class="lake-fontsize-12" style="color: #1890FF;"><strong><span><a href="http://flash.253.com/document/details?lid=302&amp;cid=94&amp;pc=28&amp;pn=%25E9%2597%25AA%25E9%25AA%258CSDK" target="_blank">SDK资源下载</a>」</span></strong></span><br /></p><h1 id="blko4"><br /></h1><h1 id="EHAyn">一.准备工作</h1><p><br /></p><h2 id="hxy0m">前置条件</h2><p><br /></p><ul><li>闪验SDK支持<span>Xcode 9.4.1，</span>iOS8.0+及以上版本。</li><li>闪验SDK支持中国移动、联通、电信4G的取号能力。</li><li>闪验SDK支持网络环境为</li></ul><p>a.纯数据网络</p><p>b.数据网络与wifi网络双开</p><ul><li><span style="background-color: transparent;">对于双卡手机，闪验SDK取当前流量卡号</span></li></ul><p><br /></p><h2 id="zltx8">创建应用</h2><p><br /></p><p><strong><span style="color: #F5222D;">提示：一个应用对应一个appid，多个应用（不同bundleID）需在闪验平台创建多个应用以对应多个appid</span><span style="color: #F5222D;"><br /></span></strong></p><p><span>应用的创建流程及APPID/APPKEY的获取，请查看「</span><a href="http://flash.253.com/document/details?lid=292&amp;cid=91&amp;pc=28&amp;pn=%25E9%2597%25AA%25E9%25AA%258CSDK" target="_blank">账号创建</a><span>」文档</span></p><p><span class="lake-fontsize-11"><br /></span></p><h2 id="4CYnF">快速体验Demo</h2><p><span class="lake-fontsize-11">将创建应用时获得的AppID、AppKey填入Demo工程中.pch文件，修改工程BundleID为</span><span class="lake-fontsize-11">创建应用时绑定的BundleID即可</span></p><p><br /></p><h2 id="6cIsX">开发环境搭建</h2><p style="text-align: left;">闪验SDK提供两种集成方式供iOS开发者选择：</p><ul style="text-align: left;"><li>通过CocoaPods自动集成</li><li>手动集成</li></ul><p><br /></p><h4 id="cocoapods" style="text-align: left;">通过CocoaPods<span>自动</span>集成</h4><p style="text-align: left;">在工程的<code>Podfile</code>里面添加以下代码：</p><pre><code>#以下三种版本选择方式示例
            
            #集成最新版闪验SDK:
            pod 'CL_ShanYanSDK'
            
            #集成指定版本闪验SDK:
            pod 'CL_ShanYanSDK', '2.2.0.4'
            
            #集成指定版本闪验SDK,并在末位小版本范围更新:
            pod 'CL_ShanYanSDK', '~&gt; 2.2.0.4'</code></pre><p style="text-align: left;">保存并执行<code>pod install</code>,然后用后缀为<code>.xcworkspace</code>的文件打开工程。</p><p style="text-align: left;">注意:</p><p style="text-align: left;">命令行下执行<code>pod search CL_ShanYanSDK</code>,如显版本不是最新的，则先执行<code>pod repo update</code>操作更新本地repo的内容</p><p style="text-align: left;">关于<code>CocoaPods</code>的更多信息请查看 <a href="https://cocoapods.org/" target="_blank">CocoaPods官方网站</a>。</p><p><br /></p><h4 id="_1" style="text-align: left;">手动集成</h4><ol start="1"><li><strong>导入framework</strong>： 将闪验SDK压缩包中framework文件夹下所有资源添加到工程中<span style="color: #F5222D;">（注意勾选Copy items if needed）</span></li></ol><p><img alt="导入资源文件1.jpg" title="导入资源文件1.jpg" src="https://cdn.nlark.com/yuque/0/2019/jpeg/282058/1559180339839-c0aa4aeb-a03d-4d0f-9b68-cae30ba9d715.jpeg#align=left&amp;display=inline&amp;height=860&amp;name=%E5%AF%BC%E5%85%A5%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B61.jpg&amp;originHeight=860&amp;originWidth=1460&amp;size=155984&amp;status=done&amp;width=1460" style="max-width: 600px; width: 1460px;" /></p><p><br /></p><ol start="2"><li>Xcode配置：</li></ol><p><br /></p><ul><li><strong>OtherLinkerFlags中 添加**-ObjC**</strong>：xcode-&gt;BuildSetting-&gt;Other Linker Flags 添加 **-ObjC**</li></ul><p><img alt="otherLink-ObjC.jpg" title="otherLink-ObjC.jpg" src="https://cdn.nlark.com/yuque/0/2019/jpeg/282058/1559180945899-6378acff-f2c3-4e20-8983-67c73a2d7a6c.jpeg#align=left&amp;display=inline&amp;height=1218&amp;name=otherLink-ObjC.jpg&amp;originHeight=1218&amp;originWidth=2130&amp;size=481650&amp;status=done&amp;width=2130" style="max-width: 600px; width: 2130px;" /></p><p><br /></p><ul><li><strong>添加libc++.1.tbd</strong>: 在xcode-&gt;General-&gt;Linked Frameworks and Libraries中点击 **+** ，搜索并选择添加 **libc++.1.tbd**</li></ul><p><img alt="libc++.1.tbd.jpg" title="libc++.1.tbd.jpg" src="https://cdn.nlark.com/yuque/0/2019/jpeg/282058/1559181085703-a02171f0-1635-4035-8e4c-0ef95948365f.jpeg#align=left&amp;display=inline&amp;height=590&amp;name=libc%2B%2B.1.tbd.jpg&amp;originHeight=590&amp;originWidth=1798&amp;size=176738&amp;status=done&amp;width=1798" style="max-width: 600px; width: 1798px;" /></p><p><br /></p><ol start="3"><li> <strong>Swift</strong>工程需要额外添加-force_load：</li></ol><ul><li>在xcode-&gt;BuildSetting-&gt;Other Linker Flags 添加-force_load</li></ul><p><img alt="swift-force_load.jpg" title="swift-force_load.jpg" src="https://cdn.nlark.com/yuque/0/2019/jpeg/282058/1559181358354-1923f4b2-810f-40e4-8397-942beba5931c.jpeg#align=left&amp;display=inline&amp;height=878&amp;name=swift-force_load.jpg&amp;originHeight=878&amp;originWidth=2244&amp;size=338161&amp;status=done&amp;width=2244" style="max-width: 600px; width: 2244px;" /></p><p><br /></p><ul><li>在-force_load下方添加CL_ShanYanSDK.framework/CL_ShanYanSDK所在路径，具体操作可以将CL_ShanYanSDK.framework拖入空栏，在尾部拼接静态库名称CL_ShanYanSDK，将前缀绝对地址改成相对地址$(SRCROOT)，最终为 &quot;$(SRCROOT)/.../CL_ShanYanSDK.framework/CL_ShanYanSDK&quot;形式</li></ul><p><img alt="swift-sdk-path.jpg" title="swift-sdk-path.jpg" src="https://cdn.nlark.com/yuque/0/2019/jpeg/282058/1559181377702-ff77dbf9-3caf-4722-9a49-cbd5ce27a725.jpeg#align=left&amp;display=inline&amp;height=888&amp;name=swift-sdk-path.jpg&amp;originHeight=888&amp;originWidth=2242&amp;size=398864&amp;status=done&amp;width=2242" style="max-width: 600px; width: 2242px;" /></p><p><br /></p><p><br /></p><h1 id="Zw4un">二.SDK使用说明</h1><p><br /></p><h2 id="eSSWn">1.初始化</h2><p><br /></p><p>方法原型</p><p><br /></p><pre data-lang="objectivec"><code>/**初始化*/
                +(void)initWithAppId:(NSString *)appId AppKey:(NSString *)appKey complete:(nullable CLComplete)complete;</code></pre><p><br /></p><p>参数描述</p><table class="lake-table" style="width: 700px;"><colgroup><col width="132"></col><col width="93"></col><col width="130"></col><col width="344"></col></colgroup><tbody><tr><td><p>参数</p></td><td rowspan="1" style="background-color: #FFFFFF;"><p>是否必填</p></td><td><p>类型</p></td><td><p>说明</p></td></tr></tbody><tbody><tr><td><p><span>appId </span></p></td><td rowspan="1" style="background-color: #FFFFFF;"><p><strong>必填</strong></p></td><td><p>NSString</p></td><td><p><span>闪验appID</span></p></td></tr><tr><td><p><span>appKey </span></p></td><td rowspan="1" style="background-color: #FFFFFF;"><p><strong>必填</strong></p></td><td><p><span>NSString</span></p></td><td><p><span>闪验appKey</span></p></td></tr><tr><td colspan="1" style="background-color: #FFFFFF;"><p><span>complete </span></p></td><td rowspan="1" style="background-color: #FFFFFF;"><p><strong>选填</strong></p></td><td colspan="1" style="background-color: #FFFFFF;"><p>CLComplete</p></td><td colspan="1" style="background-color: #FFFFFF;"><p>初始化回调block，可以在此回调block中接收初始化情况，也可以不关心初始化结果</p></td></tr></tbody></table><p><strong>接口作用</strong></p><p><strong><br /></strong></p><p><span>初始化SDK</span> :传入用户的appID、appKey,获取本机运营商,读取缓存,获取运营商配置,初始化SDK</p><p><br /></p><p><strong>使用场景</strong></p><p><strong><br /></strong></p><ul><li><span style="color: #F5222D;">建议在app启动时调用</span></li><li><span style="color: #F5222D;">必须在一键登录前至少调用一次</span></li><li><span style="color: #F5222D;">只需调用一次，多次调用不会多次初始化，与一次调用效果一致</span></li></ul><p><br /></p><p><strong>请求示例代码</strong></p><p><strong><br /></strong></p><p><strong><span>ObjC</span></strong>:</p><ol start="1"><li>导入闪验SDK头文件 <code>#import &lt;CL_ShanYanSDK/CL_ShanYanSDK.h&gt;</code></li><li>在AppDelegate中的 <code>didFinishLaunchingWithOptions</code>方法中添加初始化代码</li></ol><pre data-lang="objectivec"><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
                    ...
                    //初始化
                    [CLShanYanSDKManager initWithAppId:cl_SDK_APPID AppKey:cl_SDK_APPKEY complete:nil];
                    ...
                    }</code></pre><p><br /></p><p><strong><span>Swift</span></strong>:</p><ol start="1"><li>创建混编桥接头文件并导入闪验SDK头文件 <code>#import &lt;CL_ShanYanSDK/CL_ShanYanSDK.h&gt;</code></li><li>在AppDelegate中的 <code>didFinishLaunchingWithOptions</code>方法中添加初始化代码</li></ol><p><br /></p><pre data-lang="swift"><code>func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool {
                        // 建议先检测APP登录状态，未登录再使用闪验
                        ...
                        //初始化
                        CLShanYanSDKManager.initWithAppId(&quot;your appID&quot;, appKey: &quot;your appKey&quot;)
                        ...
                        }</code></pre><p><br /></p><h2 id="zWeon">2.预取号</h2><p><br /></p><p><span>方法原型</span></p><p><span><br /></span></p><pre data-lang="objectivec"><code>/**
                            * 预取号（获取临时凭证）
                            * 建议在判断当前用户属于未登录状态时使用，已登录状态用户请不要调用该方法
                            */
                            +(void)preGetPhonenumber:(nullable CLComplete)complete;</code></pre><p><br /></p><p><strong>接口作用</strong></p><p><br /></p><p><strong><span>电信、联通、移动预取号</span></strong> :初始化成功后，如果当前为电信/联通/移动，将调用预取号，可以提前获知当前用户的手机网络环境是否符合一键登录的使用条件，成功后将得到用于一键登录使用的临时凭证，默认的凭证有效期60s(电信)/30min(联通)/60min(移动)。</p><p><br /></p><p><strong>使用场景</strong></p><p><br /></p><ul><li><span style="color: #F5222D;">建议在执行一键登录的方法前，提前一段时间调用此方法</span>，比如调一键登录的vc的viewdidload中，或者rootVC的viewdidload中，或者app启动后，此调用将有助于提高闪验拉起授权页的速度和成功率</li><li>不建议调用后立即调用拉起授权页方法（此方法是异步）</li><li>此方法需要1~2s的时间取得临时凭证，因此也不建议和拉起授权页方法一起串行调用</li><li>不建议频繁的多次调用和在拉起授权页后调用</li><li><strong><span style="color: #F5222D;">建议在判断当前用户属于未登录状态时使用，已登录状态用户请不要调用该方法</span></strong></li></ul><p><br /></p><p><strong>请求示例代码</strong></p><p><strong><br /></strong></p><p><strong><span>ObjC</span></strong>:</p><p><br /></p><pre data-lang="objectivec"><code>#import &lt;CL_ShanYanSDK/CL_ShanYanSDK.h&gt;
                                //开发者调拉起授权页的vc
                                @implementation CustomLoginViewController
                                - (void)viewDidLoad {
                                [super viewDidLoad];
                                if (YourAppLoginStatus == NO) {
                                //预取号
                                [CLShanYanSDKManager preGetPhonenumber:nil];
                                ...
                                }
                                }
                                ...
                                //拉起授权页
                                - (void)shanYanAuthPageLogin{
                                ...
                                }</code></pre><p><br /></p><h2 id="wCSyi">3.拉起授权页</h2><p><br /></p><p><strong><span style="color: #F5222D;">在预取号成功后调用</span></strong>，<span style="color: #595959;">预取号</span>失败不建议调用。调用拉起授权页方法后将会调起运营商授权页面。该方法会拉起登录界面，<strong><span style="color: #F5222D;"><span>已登录状态请勿调用 。</span></span></strong></p><p><strong><span style="color: #F5222D;"><span><br /></span></span></strong></p><pre data-lang="objectivec"><code>//闪验一键登录接口
                                    +(void)quickAuthLoginWithConfigure:(CLUIConfigure *)clUIConfigure
                                    openLoginAuthListener:(CLComplete)openLoginAuthListener
                                    oneKeyLoginListener:(CLComplete)oneKeyLoginListener;</code></pre><p><br /></p><p>参数描述</p><table class="lake-table" style="width: 807px;"><colgroup><col width="253"></col><col width="175"></col><col width="378"></col></colgroup><tbody><tr><td><p>参数</p></td><td><p>类型</p></td><td><p>说明</p></td></tr></tbody><tbody><tr><td><p>clUIConfigure<span>  </span><span style="color: #F5222D;"><strong>必填</strong></span></p></td><td><p>CLUIConfigure</p></td><td><p><span>授权页控件属性配置对象</span></p></td></tr><tr><td colspan="1" style="background-color: #FFFFFF;"><p>openLoginAuthListener  <strong>选填</strong></p></td><td colspan="1" style="background-color: #FFFFFF;"><p>CLComplete</p></td><td colspan="1" style="background-color: #FFFFFF;"><p>拉起授权页的回调，拉起页面成功失败均触发</p></td></tr><tr><td colspan="1" style="background-color: #FFFFFF;"><p>oneKeyLoginListener<span> </span><span style="color: #F5222D;"><strong><span>必填</span></strong></span></p></td><td colspan="1" style="background-color: #FFFFFF;"><p>CLComplete</p></td><td colspan="1" style="background-color: #FFFFFF;"><p><span>一键登录回调，用于接收一键登录的结果，点一键登录</span><span>成功失败均触发，点自带的返回按钮也触发</span></p></td></tr></tbody></table><p>使用场景</p><ul><li>用户进行一键登录操作时，调用一键登录方法，如果初始化成功，SDK将会拉起授权页面，用户授权后，SDK将返回取号 token给到应用客户端。</li><li>可以在多处调用</li><li>需在调用预初始化方法之后调用</li></ul><p><br /></p><p>一键登录逻辑说明</p><ul><li>存在调用预初始化时获取的临时凭证，调用一键登录方法将立即拉起授权页面</li><li><span>openLoginAuthListener</span><span> 拉起授权页监听回调，拉起成功或失败均触发</span></li><li>不存在临时凭证或临时凭证过期时(临时凭证有效期电信60s、联通30min、移动60min)，调用一键登录方法，将有一个很短的时延，待取号成功后拉起授权页面</li><li>取号失败时，返回失败 </li></ul><p><br /></p><p>请求示例代码</p><p><br /></p><p><strong><span>ObjC</span></strong>:</p><ol start="1"><li>导入闪验SDK头文件 <code>#import &lt;CL_ShanYanSDK/CL_ShanYanSDK.h&gt;</code></li><li>在需要使用一键登录的地方调用闪验一键登录接口</li></ol><pre data-lang="objectivec"><code>// 用户需要使用闪验一键登录时的方法
                                        - (void)quickLoginBtnClick:(UIButton *)sender {
                                        
                                        __weak typeof(self) weakself = self;
                                        
                                        CGFloat screenScale = [UIScreen mainScreen].bounds.size.width/375.0;
                                        
                                        CLUIConfigure * baseUIConfigure = [CLUIConfigure new];
                                        baseUIConfigure.viewController = self;
                                        baseUIConfigure.clLogoImage = [UIImage imageNamed:@&quot;your_app_logo_image&quot;];
                                        
                                        //layout 布局
                                        CLOrientationLayOut * clOrientationLayOutPortrait = [CLOrientationLayOut new];
                                        clOrientationLayOutPortrait.clLayoutPhoneCenterY = @(0*screenScale);
                                        clOrientationLayOutPortrait.clLayoutPhoneLeft = @(50*screenScale);
                                        ...
                                        baseUIConfigure.clOrientationLayOutPortrait = clOrientationLayOutPortrait;
                                        
                                        //开发者自己的loading（注意后面loading的隐藏时机）
                                        [SVProgressHUD setContainerView:self.view];
                                        [SVProgressHUD show];
                                        
                                        //闪验一键登录接口（将拉起授权页）
                                        [CLShanYanSDKManager quickAuthLoginWithConfigure:baseUIConfigure openLoginAuthListener:^(CLCompleteResult * _Nonnull completeResult) {
                                        [SVProgressHUD hide];
                                        if (completeResult.error) {
                                        //拉起授权页失败
                                        NSLog(@&quot;openLoginAuthListener:%@&quot;,completeResult.error.userInfo);
                                        }else{
                                        //拉起授权页成功
                                        NSLog(@&quot;openLoginAuthListener:%@&quot;,completeResult.yy_modelToJSONObject);
                                        }
                                        } oneKeyLoginListener:^(CLCompleteResult * _Nonnull completeResult) {
                                        __strong typeof(self) strongSelf = weakSelf;
                                        
                                        [SVProgressHUD hide];
                                        
                                        if (completeResult.error) {
                                        //一键登录失败
                                        NSLog(@&quot;oneKeyLoginListener:%@&quot;,completeResult.error.description);
                                        
                                        //提示：错误无需提示给用户，可以在用户无感知的状态下直接切换登录方式
                                        if (completeResult.code == 1011){
                                        //用户取消登录（点返回）
                                        //处理建议：如无特殊需求可不做处理，仅作为交互状态回调，此时已经回到当前用户自己的页面
                                        //点击sdk自带的返回，无论是否设置手动销毁，授权页面都会强制关闭
                                        }  else{
                                        //处理建议：其他错误代码表示闪验通道无法继续，可以统一走开发者自己的其他登录方式，也可以对不同的错误单独处理
                                        //1003    一键登录获取token失败
                                        //1008    未开启移动网络
                                        //1009    未检测到sim卡
                                        //其他     其他错误//
                                        
                                        //关闭授权页，如果授权页还未拉起，此调用不会关闭当前用户vc，即不执行任何代码
                                        [CLShanYanSDKManager finishAuthControllerCompletion:nil];
                                        
                                        }
                                        }else{
                                        //一键登录获取Token成功
                                        NSLog(@&quot;oneKeyLoginListener:%@&quot;,completeResult.yy_modelDescription);
                                        
                                        //SDK成功获取到Token
                                        /** token置换手机号
                                        code
                                        */
                                        }
                                        }];
                                        }</code></pre><p><br /></p><p><br /></p><p><span>一键登录 </span><code>quickAuthLoginWith:complete:</code>正确返回示例</p><p><br /></p><pre data-lang="json"><code>completeResult-&gt;_data:
                                            {
                                            accessToken = 2ebf48fbe75a45449ed78ecca9c5d93c;
                                            appId = xxxxxx;
                                            device = ZGV2aWNlPWlQaG9uZTd8aXA9MTcyLjE2LjExLjZ8RElEPTBkOGY2NzViZjdkYjRjZDdmMWI1YmM5NDI3NWIyZTQ0fHV1aWQ9MzBjZGU2ZTktYzZmOS00MGNhLTk4MjEtMzI4NGM0ZDViZDNj;
                                            randoms = &quot;321bfcdb-bb34-4e3e-bbf7-def83d33bd76&quot;;
                                            sign = &quot;sNeHtWihz7B4iTY1Fch5+ztllDA=&quot;;
                                            telecom = CTCC;
                                            timestamp = 1558771442361;
                                            version = &quot;2.2.0&quot;;
                                            }</code></pre><p><br /></p><table class="lake-table" style="width: 726px;"><colgroup><col width="138"></col><col width="125"></col><col width="462"></col></colgroup><tbody><tr><td><p><strong><span class="lake-fontsize-9" style="color: #24292E;">字段</span></strong></p></td><td><p><strong><span class="lake-fontsize-9" style="color: #24292E;">类型</span></strong></p></td><td><p><strong><span class="lake-fontsize-9" style="color: #24292E;">含义</span></strong></p></td></tr></tbody><tbody><tr><td><p>appId</p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">String</span></p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">当前项目的appid</span></p></td></tr><tr><td><p>accessToken</p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">String</span></p></td><td><p><span class="lake-fontsize-9" style="color: #F5222D;">token，置换令牌，用来和后台置换手机号。一次有效，有效期3min</span></p></td></tr><tr><td><p>telecom</p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">String</span></p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">当前数据流量卡的运营商类型：</span></p><p><span class="lake-fontsize-9">CMCC 移动</span></p><p><span class="lake-fontsize-9">CTCC  电信</span></p><p><span class="lake-fontsize-9">CUCC  联通</span></p></td></tr><tr><td><p>timestamp</p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">String</span></p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">网络时间</span></p></td></tr><tr><td><p>randoms</p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">String</span></p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">随机数</span></p></td></tr><tr><td><p>version</p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">String</span></p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">后台接口版本号</span></p></td></tr><tr><td><p>sign</p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">String</span></p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">签名</span></p></td></tr><tr><td><p>device</p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">String</span></p></td><td><p><span class="lake-fontsize-9" style="color: #24292E;">设备型号</span></p></td></tr></tbody></table><p><span>ps:请注意返回字段中的accessToken、sign、device字段值为base64字符串，其中包含特殊字符，在客户APP与客户后台交互时应避免使用URL拼接字符串的传值方式，会导致特殊字符丢失，最终导致请求闪验后台的置换手机号接口报“请求非法，签名校验不通过”。</span></p><p><br /></p><p><strong><span>一键登录 </span></strong><code><strong>quickAuthLoginWith:complete:</strong></code><strong>报错处理</strong></p><p><strong><br /></strong></p><p><span>completeResult-&gt;_error</span>:</p><ul><li>用户取消登录(授权页点击返回) 【处理建议：若无特殊需求可不做处理】</li><li>用户选择其他方式登录(点击授权页自带的其他方式登录): 【处理建议：可根据实际情况跳转其他登录方式 】</li><li>其他错误 【处理建议：使用闪验通道失败，可根据实际情况跳转其他登录方式 】</li></ul><p><br /></p><p><strong>授权页销毁</strong></p><p><br /></p><p><span>注：sdk拉起授权页成功后，只允许点击一次一键登录按钮。</span><span>一键登录按钮</span><span>点击</span><span>一次</span><span>后，只有sdk自带的左上角返回按钮可以交互，效果为强制关闭授权页，其他页面元素均会被禁用，以防止多次点击导致多次回调而出现异常。</span></p><p><span><br /></span></p><p>拉起授权页前 配置授权页面销毁机制属性</p><pre data-lang="objectivec"><code>// 获取默认参数配置
                                                CLUIConfigure * baseUIConfigure = [CLUIConfigure clDefaultUIConfigure];
                                                baseUIConfigure.viewController = self;
                                                // 是否需要手动销毁授权页面，默认自动销毁， YES-&gt;手动销毁
                                                baseUIConfigure.manualDismiss = @(YES);</code></pre><p>sdk获取token回调后销毁界面</p><pre data-lang="objectivec"><code>//关闭页面
                                                    [CLShanYanSDKManager finishAuthControllerCompletion:^{
                                                    //如需关闭后present/push新页面，建议在completion回调中执行
                                                    //注：若未拉起授权页，调用此方法，block不会触发
                                                    //用户跳转短信验证
                                                    CustomSmsViewController * smsVc = [[CustomSmsViewController alloc]init];
                                                    CustomNavigationController * smsNav = [[CustomNavigationController alloc]initWithRootViewController:smsVc];
                                                    smsVc.navigationItem.title = @&quot;短信验证&quot;;
                                                    [self presentViewController:smsNav animated:YES completion:nil];
                                                    }];</code></pre><p><br /></p><p><br /></p><p><br /></p><h2 id="8w7D0">4.置换手机号</h2><p><br /></p><p><span class="lake-fontsize-12"><strong><span style="color: #F5222D;">注：移动、联通、电信分别有自己的置换手机号url,需要根据相对应的运营商url置换手机号码。详情见下方 </span></strong></span><code><span class="lake-fontsize-12"><strong><span style="color: #F5222D;">请求示例代码</span></strong></span></code></p><p><br /></p><p><strong>使用场景</strong></p><p><strong><br /></strong></p><p>SDK成功返回token后，开发者需自行调用置换手机号接口，此接口需要开发者调用由服务端接入闪验服务端生成的接口，上线前的调试阶段可以直接使用示例代码中的接口</p><p><br /></p><p><strong>请求示例代码</strong></p><p><strong><br /></strong></p><p><strong>ObjC</strong>:</p><pre data-lang="objectivec"><code>[CLShanYanSDKManager quickAuthLoginWithConfigure:baseUIConfigure openLoginAuthListener:^(CLCompleteResult * _Nonnull completeResult) {
                                                        [SVProgressHUD hide];
                                                        if (completeResult.error) {
                                                        //拉起授权页失败
                                                        NSLog(@&quot;openLoginAuthListener:%@&quot;,completeResult.error.userInfo);
                                                        }else{
                                                        //拉起授权页成功
                                                        NSLog(@&quot;openLoginAuthListener:%@&quot;,completeResult.yy_modelToJSONObject);
                                                        }
                                                        } oneKeyLoginListener:^(CLCompleteResult * _Nonnull completeResult) {
                                                        [SVProgressHUD dismiss];
                                                        if (completeResult.error) {
                                                        ...
                                                        }else{
                                                        //SDK成功获取到Token
                                                        
                                                        NSString * telecom = [completeResult.data valueForKey:@&quot;telecom&quot;];
                                                        //urlStr:用户后台对接闪验后台后配置的API，以下为Demo提供的调试API及调用示例，在调试阶段可暂时调用此API，也可用此API验证后台API是否正确配置
                                                        NSString * urlStr = nil;
                                                        if ([telecom isEqualToString:@&quot;CMCC&quot;]) {
                                                        urlStr = [cl_SDK_URL stringByAppendingString:@&quot;open/flashsdk/mobile-query-m&quot;];
                                                        }else if ([telecom isEqualToString:@&quot;CUCC&quot;]) {
                                                        urlStr = [cl_SDK_URL stringByAppendingString:@&quot;open/flashsdk/mobile-query-u&quot;];
                                                        }else if ([telecom isEqualToString:@&quot;CTCC&quot;]) {
                                                        urlStr = [cl_SDK_URL stringByAppendingString:@&quot;open/flashsdk/mobile-query-t&quot;];
                                                        }else{
                                                        //失败
                                                        return;
                                                        }
                                                        
                                                        if (urlStr) {
                                                        NSLog(@&quot;tokenParamr:%@&quot;,completeResult.data);
                                                        
                                                        [NetWorkManager POST_url:urlStr withParameter:completeResult.data complete:^(NSDictionary * _Nonnull responseObject, NSError * _Nonnull error) {
                                                        if (error) {
                                                        NSLog(@&quot;%@&quot;,error);
                                                        }else{
                                                        NSInteger code = [[responseObject valueForKey:@&quot;code&quot;] integerValue];
                                                        if (code == 200000) {
                                                        NSString * mobileName = responseObject[@&quot;data&quot;][@&quot;mobileName&quot;];
                                                        NSString * mobileCode = [mobileName decryptUseDESKey:cl_SDK_APPKEY];
                                                        dispatch_async(dispatch_get_main_queue(), ^{
                                                        [SVProgressHUD showSuccessWithStatus:[NSString stringWithFormat:@&quot;免密登录成功,手机号：%@&quot;,mobileCode]];
                                                        });
                                                        NSLog(@&quot;免密登录成功,手机号：%@&quot;,mobileCode);
                                                        } else {
                                                        dispatch_async(dispatch_get_main_queue(), ^{
                                                        [SVProgressHUD showSuccessWithStatus:[NSString stringWithFormat:@&quot;免密登录失败&quot;]];
                                                        });
                                                        NSLog(@&quot;免密登录失败:%@&quot;,responseObject);
                                                        }
                                                        }
                                                        }];
                                                        }
                                                        }
                                                        }];</code></pre><p><br /></p><p><strong>Swift</strong>:</p><pre data-lang="swift"><code>CLShanYanSDKManager.quickAuthLogin(with: clUIConfigure, openLoginAuthListener: { (completeResult) in
                                                            ...
                                                            }) { (completeResult) in
                                                            
                                                            if completeResult.error != nil {
                                                            ...
                                                            }else{
                                                            //SDK成功获取到Token
                                                            
                                                            NSLog(&quot;quickAuthLogin Success:%@&quot;,completeResult.data ?? &quot;&quot;)
                                                            
                                                            //urlStr:用户后台对接闪验后台后配置的API，以下为Demo提供的调试API及调用示例，在调试阶段可暂时调用此API，也可用此API验证后台API是否正确配置
                                                            var urlStr : String?
                                                            let APIString = &quot;https://api.253.com/&quot;
                                                            
                                                            if let telecom = completeResult.data?[&quot;telecom&quot;] as! String?{
                                                            switch telecom {
                                                            case &quot;CMCC&quot;:
                                                            urlStr = APIString.appendingFormat(&quot;open/flashsdk/mobile-query-m&quot;)
                                                            break
                                                            case &quot;CUCC&quot;:
                                                            urlStr = APIString.appendingFormat(&quot;open/flashsdk/mobile-query-u&quot;)
                                                            break
                                                            case &quot;CTCC&quot;:
                                                            urlStr = APIString.appendingFormat(&quot;open/flashsdk/mobile-query-t&quot;)
                                                            break
                                                            default:
                                                            break
                                                            }
                                                            }
                                                            
                                                            if let urlStr = urlStr{
                                                            let dataDict = completeResult.data as! Parameters
                                                            
                                                            Alamofire.request(urlStr, method:.post, parameters:dataDict, encoding:URLEncoding.default, headers:[:]).responseJSON(completionHandler: { (response) in
                                                            if response.result.isSuccess {
                                                            if let json = response.result.value{
                                                            let jsonDict = JSON(json)
                                                            if jsonDict[&quot;code&quot;].intValue == 200000{
                                                            let mobileName = jsonDict[&quot;data&quot;][&quot;mobileName&quot;].stringValue
                                                            let mobileCode = StringDecryptUseDES.decryptUseDESString(mobileName, key: &quot;tDo3Ml2K&quot;)//appKey
                                                            DispatchQueue.main.async(execute: {
                                                            SVProgressHUD.showSuccess(withStatus: (&quot;免密登录成功,手机号：\(mobileCode)&quot;))
                                                            })
                                                            print((&quot;免密登录成功,手机号：\(mobileCode)&quot;))
                                                            return;
                                                            }
                                                            }
                                                            }
                                                            DispatchQueue.main.async(execute: {
                                                            SVProgressHUD.showInfo(withStatus: (&quot;免密登录失败：\(response.description)&quot;))
                                                            print((&quot;免密登录失败：\(response.description)&quot;))
                                                            })
                                                            })
                                                            }
                                                            }
                                                            }
                                                            }</code></pre><p><br /></p><p><strong><span>token置换手机号 </span></strong><strong>正确返回示例</strong></p><pre data-lang="json"><code>{
                                                                &quot;chargeStatus&quot;: 1,
                                                                &quot;message&quot;: &quot;成功&quot;,
                                                                &quot;data&quot;: {
                                                                &quot;fanqizha&quot;: &quot;1&quot;,
                                                                &quot;tag&quot;: &quot;&quot;,
                                                                &quot;tradeNo&quot;: &quot;18112115031414011&quot;,
                                                                &quot;mobileName&quot;: &quot;OaLj8kkXPwFGp/eRk+3vQQ\u003d\u003d&quot;
                                                                },
                                                                &quot;code&quot;: &quot;200000&quot;
                                                                }</code></pre><p><br /></p><p><br /></p><table class="lake-table" style="width: 716px;"><colgroup><col width="138"></col><col width="125"></col><col width="452"></col></colgroup><tbody><tr><td><p><strong><span class="lake-fontsize-9" style="color: #24292E;">字段</span></strong></p></td><td><p><strong><span class="lake-fontsize-9" style="color: #24292E;">类型</span></strong></p></td><td><p><strong><span class="lake-fontsize-9" style="color: #24292E;">含义</span></strong></p></td></tr><tr><td colspan="1" style="background-color: #FFFFFF;"><p><span>code</span></p></td><td colspan="1" style="background-color: #FFFFFF;"><p>string</p></td><td colspan="1" style="background-color: #FFFFFF;"><p><span>200000成功，其他失败</span></p></td></tr><tr><td colspan="1" style="background-color: #FFFFFF;"><p><span style="color: #F5222D;">chargeStatus</span></p></td><td colspan="1" style="background-color: #FFFFFF;"><p><span style="color: #F5222D;">string</span></p></td><td colspan="1" style="background-color: #FFFFFF;"><p><span style="color: #F5222D;">1：收费  0：不收费</span></p></td></tr><tr><td colspan="1" style="background-color: #FFFFFF;"><p><span>tradeNo</span></p></td><td colspan="1" style="background-color: #FFFFFF;"><p><span>string</span></p></td><td colspan="1" style="background-color: #FFFFFF;"><p><span>交易流水号</span></p></td></tr><tr><td colspan="1" style="background-color: #FFFFFF;"><p><span>mobileName</span></p></td><td colspan="1" style="background-color: #FFFFFF;"><p><span>string</span></p></td><td colspan="1" style="background-color: #FFFFFF;"><p><span>DES加密的真实手机号，使用CBC模式，PKCS5Padding填充原则。CBC模式对应的iv偏移向量为：byte[] iv = { 1, 2, 3, 4, 5, 6, 7, 8 }，key为appKey</span></p></td></tr><tr><td colspan="1" style="background-color: #FFFFFF;"><p><span>fanqizha/tag</span></p></td><td colspan="1" style="background-color: #FFFFFF;"><p><span>string</span></p></td><td colspan="1" style="background-color: #FFFFFF;"><p><span>防羊毛识别标识，此功能需要在后台开通</span></p><p>fanqizha：int 1：白名单 2：黑名单 3：可信任度低 4：未找到</p><p>tag：标签属性，判断的依据信息，用于黑名单。样例：批量操作/系统环境异常/信用低/小号养号/号码风险模型评分中/可能存在作弊行为 </p></td></tr></tbody></table><h2 id="42UPQ">5.手动关闭授权页</h2><p><span>当开发者设置点击一键登录或者自定义控件不自动销毁授权页时，将需要自行调用此方法主动销毁授权页，建议在置换手机号成功后销毁。如在得到回调后未销毁授权页而，使用拉起授权页方法再次拉起授权页，此页面将无法响应任何按键（除了导航栏的返回按钮）。</span></p><p><span><br /></span></p><ul><li><strong>关闭授权页时机</strong></li></ul><p>      a.SDK拉起授权页方法 直接回调<span style="color: #F5222D;">失败时</span></p><p>      b.置换手机号有返回结果时</p><p><br /></p><ul><li><strong>当前页面直接销毁</strong></li></ul><pre data-lang="objectivec"><code>//方式1
                                                                    [self.PresentedViewController dismissViewControllerAnimated:YES completion:nil];
                                                                    
                                                                    //方式二
                                                                    [CLShanYanSDKManager finishAuthControllerCompletion:^{
                                                                    //如需关闭后present/push新页面，建议在completion回调中执行
                                                                    //注：若未拉起授权页，调用此方法，block不会触发
                                                                    //用户跳转短信验证
                                                                    CustomSmsViewController * smsVc = [[CustomSmsViewController alloc]init];
                                                                    CustomNavigationController * smsNav = [[CustomNavigationController alloc]initWithRootViewController:smsVc];
                                                                    smsVc.navigationItem.title = @&quot;短信验证&quot;;
                                                                    [self presentViewController:smsNav animated:YES completion:nil];
                                                                    }];</code></pre><p><br /></p><ul><li><strong>找到topVC进行dismiss</strong></li></ul><pre data-lang="objectivec"><code>dispatch_async(dispatch_get_main_queue(), ^{
                                                                        //建议使用授权页面配置对象传入的viewcontroller 调 dismiss
                                                                        if (self.navigationController.viewControllers.lastObject.navigationController) {
                                                                        [self.navigationController.viewControllers.lastObject dismissViewControllerAnimated:YES completion:nil];
                                                                        } else {
                                                                        UIViewController *topRootViewController = [[UIApplication  sharedApplication] keyWindow].rootViewController;
                                                                        // 在这里加一个这个样式的循环
                                                                        while (topRootViewController.presentedViewController) {
                                                                        // 这里固定写法
                                                                        topRootViewController = topRootViewController.presentedViewController;
                                                                        }
                                                                        // 然后再进行present操作
                                                                        [topRootViewController dismissViewControllerAnimated:YES completion:nil];
                                                                        }
                                                                        });</code></pre><p><br /></p><p><br /></p><h1 id="AdFlP">三.授权界面修改</h1><p><br /></p><h2 id="vc6Dc">设计规范</h2><p><strong><span style="color: #F5222D;"><img alt="闪验220授权页规范.jpg" title="闪验220授权页规范.jpg" src="https://cdn.nlark.com/yuque/0/2019/jpeg/245131/1560741002208-df48e456-c7eb-482e-9797-598010fcdfa5.jpeg#align=left&amp;display=inline&amp;height=1673&amp;name=%E9%97%AA%E9%AA%8C220%E6%8E%88%E6%9D%83%E9%A1%B5%E8%A7%84%E8%8C%83.jpg&amp;originHeight=1673&amp;originWidth=1692&amp;size=754509&amp;status=done&amp;width=1692" style="max-width: 600px; width: 1692px;" />开发者不得通过任何技术手段，将授权页面的隐私栏、品牌露出内容隐藏、覆盖，对于接入闪验SDK并上线的应用，我方和运营商会对上线的应用授权页面做审查，如果有出现未按要求设计授权页面，将隐私栏、运营商品牌、授权登录按钮隐去不可见的设计，我方有权将应用的登录功能下线。</span></strong></p><p><br /></p><h2 id="Rdp5k">页面可调整属性</h2><p><span style="color: #F5222D;"><strong><span>注：授权页基本控件均支持上、下、左、右、宽、高、水平中心、竖直中心布局设置，布局通过布局对象设置，</span></strong></span><span style="color: #F5222D;"><strong>布局定位更加方便快捷，</strong></span><span style="color: #F5222D;"><strong>建议使用最新布局对象进行设置。</strong></span></p><p><br /></p><pre data-lang="objectivec"><code>//要拉起授权页的vc [必填项] (注：SDK不持有接入方VC)
                                                                            UIViewController * viewController;
                                                                            
                                                                            /**
                                                                            *外部手动管理关闭界面
                                                                            *BOOL,default is NO
                                                                            *eg.@(YES)
                                                                            */
                                                                            NSNumber * manualDismiss;
                                                                            
                                                                            /**授权页-背景图片*/
                                                                            UIImage *clBackgroundImg;
                                                                            
                                                                            //导航栏
                                                                            /**导航栏 是否隐藏 BOOL default is NO, 设置优先级高于clNavigationBackgroundClear eg.@(NO)*/
                                                                            NSNumber * clNavigationBarHidden;
                                                                            /**导航栏 背景透明 BOOL eg.@(YES)*/
                                                                            NSNumber * clNavigationBackgroundClear;
                                                                            /**导航栏标题*/
                                                                            NSAttributedString * clNavigationAttributesTitleText;
                                                                            /**导航栏右侧自定义按钮*/
                                                                            UIBarButtonItem * clNavigationRightControl;
                                                                            /**导航栏左侧自定义按钮*/
                                                                            UIBarButtonItem * clNavigationLeftControl;
                                                                            /**导航栏左侧返回按钮图片*/
                                                                            UIImage   * clNavigationBackBtnImage;
                                                                            /**导航栏左侧自定义按钮隐藏设置，默认显示 BOOL eg.@(YES)*/
                                                                            NSNumber  * clNavigationBackBtnHidden;
                                                                            /**导航栏分割线 是否隐藏 default is NO, BOOL eg.@(YES) */
                                                                            NSNumber * clNavigationBottomLineHidden;
                                                                            /**导航栏 文字颜色*/
                                                                            UIColor  * clNavigationTintColor;
                                                                            /**导航栏 背景色 default is white*/
                                                                            UIColor  * clNavigationBarTintColor;
                                                                            /**导航栏 背景图片*/
                                                                            UIImage  * clNavigationBackgroundImage;
                                                                            /**导航栏 配合背景图片设置，用来控制在不同状态下导航栏的显示(横竖屏是否显示) UIBarMetrics eg.@(UIBarMetricsCompact)*/
                                                                            NSNumber * clNavigationBarMetrics;
                                                                            /**导航栏 导航栏底部分割线（图片）*/
                                                                            UIImage  * clNavigationShadowImage;
                                                                            /**
                                                                            *NavigationBar.barStyle：默认UIBarStyleBlack
                                                                            *Info.plist: View controller-based status bar appearance = YES
                                                                            *导航栏隐藏时：
                                                                            *状态栏黑白由 statusBarStyle 决定：
                                                                            *UIStatusBarStyleLightContent：状态栏显示 黑
                                                                            *UIStatusBarStyleLightContent：状态栏显示 白
                                                                            *导航栏显示时：
                                                                            *状态栏黑白由 navigation_barStyle 决定
                                                                            *UIBarStyleDefault：状态栏显示 黑
                                                                            *UIBarStyleBlack：状态栏显示 白
                                                                            *
                                                                            *eg. @(UIBarStyleBlack)
                                                                            */
                                                                            NSNumber * clNavigationBarStyle;
                                                                            
                                                                            //LOGO图片
                                                                            /**LOGO图片*/
                                                                            UIImage  * clLogoImage;
                                                                            /**LOGO圆角 CGFloat eg.@(2.0)*/
                                                                            NSNumber * clLogoCornerRadius;
                                                                            /**LOGO显隐 BOOL eg.@(NO)*/
                                                                            NSNumber * clLogoHiden;
                                                                            
                                                                            /**手机号显示控件*/
                                                                            /**手机号颜色*/
                                                                            UIColor  * clPhoneNumberColor;
                                                                            /**手机号字体*/
                                                                            UIFont   * clPhoneNumberFont;
                                                                            /**手机号对齐方式 NSTextAlignment eg.@(NSTextAlignmentCenter)*/
                                                                            NSNumber * clPhoneNumberTextAlignment;
                                                                            
                                                                            /*一键登录按钮 控件
                                                                            注： 一键登录授权按钮 不得隐藏
                                                                            **/
                                                                            /**按钮文字*/
                                                                            NSString   * clLoginBtnText;
                                                                            /**按钮文字颜色*/
                                                                            UIColor  * clLoginBtnTextColor;
                                                                            /**按钮背景颜色*/
                                                                            UIColor  * clLoginBtnBgColor;
                                                                            /**按钮文字字体*/
                                                                            UIFont   * clLoginBtnTextFont;
                                                                            /**按钮背景图片*/
                                                                            UIImage  * clLoginBtnNormalBgImage;
                                                                            /**按钮边框颜色*/
                                                                            UIColor  * clLoginBtnBorderColor;
                                                                            /**按钮偏圆角 CGFloat eg.@(5)*/
                                                                            NSNumber * clLoginBtnCornerRadius;
                                                                            /**按钮偏边框 CGFloat eg.@(2.0)*/
                                                                            NSNumber * clLoginBtnBorderWidth;
                                                                            
                                                                            /*隐私条款Privacy
                                                                            注： 运营商隐私条款 不得隐藏
                                                                            用户条款不限制
                                                                            **/
                                                                            /**隐私条款名称颜色：@[基础文字颜色UIColor*,条款颜色UIColor*] eg.@[[UIColor lightGrayColor],[UIColor greenColor]]*/
                                                                            NSArray&lt;UIColor*&gt; *clAppPrivacyColor;
                                                                            /**隐私条款文字字体*/
                                                                            UIFont  * clAppPrivacyTextFont;
                                                                            /**隐私条款--APP名称简写 默认取CFBundledisplayname*/
                                                                            NSString  * clAppPrivacyAbbreviatedName;
                                                                            /**隐私条款文字对齐方式 NSTextAlignment eg.@(NSTextAlignmentCenter)*/
                                                                            NSNumber * clAppPrivacyTextAlignment;
                                                                            /**运营商隐私条款书名号 默认NO 不显示 BOOL eg.@(YES)*/
                                                                            NSNumber * clAppPrivacyPunctuationMarks;
                                                                            /**隐私条款一:需同时设置Name和UrlString eg.@[@&quot;条款一名称&quot;:@&quot;条款一URL&quot;]*/
                                                                            NSArray&lt;NSString*&gt; * clAppPrivacyFirst;
                                                                            /**隐私条款二:需同时设置Name和UrlString eg.@[@&quot;条款一名称&quot;:@&quot;条款一URL&quot;]*/
                                                                            NSArray&lt;NSString*&gt; * clAppPrivacySecond;
                                                                            /**隐私协议WEB页面导航栏标题 NSAttributedString*/
                                                                            NSAttributedString * clAppPrivacyWebAttributesTitle;
                                                                            /**隐私协议WEB页面导航返回按钮图片*/
                                                                            UIImage * clAppPrivacyWebBackBtnImage;
                                                                            /**多行时行距 CGFloat eg.@(2.0)*/
                                                                            NSNumber* clAppPrivacyLineSpacing;
                                                                            /**是否需要sizeToFit,设置后与宽高约束的冲突请自行考虑 BOOL eg.@(YES)*/
                                                                            NSNumber* clAppPrivacyNeedSizeToFit;
                                                                            
                                                                            /*SLOGAN
                                                                            注： 运营商品牌标签，不得隐藏
                                                                            **/
                                                                            /**slogan文字字体*/
                                                                            UIFont   * clSloganTextFont;
                                                                            /**slogan文字颜色*/
                                                                            UIColor  * clSloganTextColor;
                                                                            /**slogan文字对齐方式 NSTextAlignment eg.@(NSTextAlignmentCenter)*/
                                                                            NSNumber * clSlogaTextAlignment;
                                                                            
                                                                            /*CheckBox
                                                                            *协议勾选框，默认选中且在协议前显示
                                                                            *可在sdk_oauth.bundle中替换checkBox_unSelected、checkBox_selected图片
                                                                            *也可以通过属性设置选中和未选择图片
                                                                            **/
                                                                            /**协议勾选框（默认显示,放置在协议之前）BOOL eg.@(YES)*/
                                                                            NSNumber *clCheckBoxHidden;
                                                                            /**协议勾选框默认值（默认不选中）BOOL eg.@(YES)*/
                                                                            NSNumber *clCheckBoxValue;
                                                                            /**协议勾选框 尺寸 CGSize eg.[NSValue valueWithCGSize:CGSizeMake(25, 25)]*/
                                                                            NSValue *clCheckBoxSize;
                                                                            /**协议勾选框 UIButton.image图片缩进 UIEdgeInset eg.[NSValue valueWithUIEdgeInsets:UIEdgeInsetsMake(2, 2, 2, 2)]*/
                                                                            NSValue *clCheckBoxImageEdgeInsets;
                                                                            /**协议勾选框 设置CheckBox顶部与隐私协议控件顶部对齐 YES或大于0生效 eg.@(YES)*/
                                                                            NSNumber *clCheckBoxVerticalAlignmentToAppPrivacyTop;
                                                                            /**协议勾选框 设置CheckBox顶部与隐私协议控件竖向中心对齐 YES或大于0生效 eg.@(YES)*/
                                                                            NSNumber *clCheckBoxVerticalAlignmentToAppPrivacyCenterY;
                                                                            /**协议勾选框 非选中状态图片*/
                                                                            UIImage  *clCheckBoxUncheckedImage;
                                                                            /**协议勾选框 选中状态图片*/
                                                                            UIImage  *clCheckBoxCheckedImage;
                                                                            
                                                                            /*Loading*/
                                                                            /**Loading 大小 CGSize eg.[NSValue valueWithCGSize:CGSizeMake(50, 50)]*/
                                                                            NSValue *clLoadingSize;
                                                                            /**Loading 圆角 float eg.@(5) */
                                                                            NSNumber *clLoadingCornerRadius;
                                                                            /**Loading 背景色 UIColor eg.[UIColor colorWithRed:0.8 green:0.5 blue:0.8 alpha:0.8]; */
                                                                            UIColor *clLoadingBackgroundColor;
                                                                            /**UIActivityIndicatorViewStyle eg.@(UIActivityIndicatorViewStyleWhiteLarge)*/
                                                                            NSNumber *clLoadingIndicatorStyle;
                                                                            /**Loading Indicator渲染色 UIColor eg.[UIColor greenColor]; */
                                                                            UIColor *clLoadingTintColor;
                                                                            /**授权页自定义Loading
                                                                            - containerView为loading的全屏蒙版view
                                                                            - 请自行在containerView添加自定义loading
                                                                            - 设置block后，上述loading属性将无效
                                                                            */
                                                                            void(^loadingView)(UIView * containerView);
                                                                            
                                                                            //添加自定义控件
                                                                            /**可设置背景色及添加控件*/
                                                                            void(^customAreaView)(UIView * customAreaView);
                                                                            
                                                                            //竖屏布局配置对象 --&gt;创建一个布局对象，设置好控件约束属性值，再设置到此属性中
                                                                            /**竖屏：UIInterfaceOrientationPortrait|UIInterfaceOrientationPortraitUpsideDown
                                                                            *由于运营商限制不同，外部自动旋转条件满足时，电信联通页面自动旋转，均使用此约束；移动强制竖屏
                                                                            *eg.   CLUIConfigure * baseUIConfigure = [CLUIConfigure new];
                                                                            *      CLOrientationLayOut * clOrientationLayOutPortrait = [CLOrientationLayOut new];
                                                                            *      clOrientationLayOutPortrait.clLayoutPhoneCenterY = @(0);
                                                                            *      clOrientationLayOutPortrait.clLayoutPhoneLeft = @(50*screenScale);
                                                                            *      ...
                                                                            *      baseUIConfigure.clOrientationLayOutPortrait = clOrientationLayOutPortrait;
                                                                            */
                                                                            @property (nonatomic,strong) CLOrientationLayOut * clOrientationLayOutPortrait;
                                                                            
                                                                            
                                                                            
                                                                            /*CLOrientationLayOut:
                                                                            *横竖屏布局配置对象
                                                                            *配置页面布局相关属性
                                                                            */
                                                                            /**LOGO图片*/
                                                                            // 约束均相对vc.view
                                                                            NSNumber * clLayoutLogoLeft;
                                                                            NSNumber * clLayoutLogoTop;
                                                                            NSNumber * clLayoutLogoRight;
                                                                            NSNumber * clLayoutLogoBottom;
                                                                            NSNumber * clLayoutLogoWidth;
                                                                            NSNumber * clLayoutLogoHeight;
                                                                            NSNumber * clLayoutLogoCenterX;
                                                                            NSNumber * clLayoutLogoCenterY;
                                                                            
                                                                            /**手机号显示控件*/
                                                                            //layout 约束均相对vc.view
                                                                            NSNumber * clLayoutPhoneLeft;
                                                                            NSNumber * clLayoutPhoneTop;
                                                                            NSNumber * clLayoutPhoneRight;
                                                                            NSNumber * clLayoutPhoneBottom;
                                                                            NSNumber * clLayoutPhoneWidth;
                                                                            NSNumber * clLayoutPhoneHeight;
                                                                            NSNumber * clLayoutPhoneCenterX;
                                                                            NSNumber * clLayoutPhoneCenterY;
                                                                            
                                                                            /*一键登录按钮 控件
                                                                            注： 一键登录授权按钮 不得隐藏
                                                                            **/
                                                                            //layout 约束均相对vc.view
                                                                            NSNumber * clLayoutLoginBtnLeft;
                                                                            NSNumber * clLayoutLoginBtnTop;
                                                                            NSNumber * clLayoutLoginBtnRight;
                                                                            NSNumber * clLayoutLoginBtnBottom;
                                                                            NSNumber * clLayoutLoginBtnWidth;
                                                                            NSNumber * clLayoutLoginBtnHeight;
                                                                            NSNumber * clLayoutLoginBtnCenterX;
                                                                            NSNumber * clLayoutLoginBtnCenterY;
                                                                            
                                                                            /*隐私条款Privacy
                                                                            注： 运营商隐私条款 不得隐藏， 用户条款不限制
                                                                            **/
                                                                            //layout 约束均相对vc.view
                                                                            NSNumber * clLayoutAppPrivacyLeft;
                                                                            NSNumber * clLayoutAppPrivacyTop;
                                                                            NSNumber * clLayoutAppPrivacyRight;
                                                                            NSNumber * clLayoutAppPrivacyBottom;
                                                                            NSNumber * clLayoutAppPrivacyWidth;
                                                                            NSNumber * clLayoutAppPrivacyHeight;
                                                                            NSNumber * clLayoutAppPrivacyCenterX;
                                                                            NSNumber * clLayoutAppPrivacyCenterY;
                                                                            
                                                                            /*Slogan 运营商品牌标签：&quot;认证服务由中国移动/联通/电信提供&quot; label
                                                                            注： 运营商品牌标签，不得隐藏
                                                                            **/
                                                                            //layout 约束均相对vc.view
                                                                            NSNumber * clLayoutSloganLeft;
                                                                            NSNumber * clLayoutSloganTop;
                                                                            NSNumber * clLayoutSloganRight;
                                                                            NSNumber * clLayoutSloganBottom;
                                                                            NSNumber * clLayoutSloganWidth;
                                                                            NSNumber * clLayoutSloganHeight;
                                                                            NSNumber * clLayoutSloganCenterX;
                                                                            NSNumber * clLayoutSloganCenterY;</code></pre><p><br /></p><h2 id="rBXZq">添加自定义控件示例</h2><p><br /></p><p><strong>ObjC：</strong></p><pre data-lang="objectivec"><code>// 快捷登录
                                                                                - (void)quickLoginBtnClick:(UIButton *)sender {
                                                                                ...
                                                                                
                                                                                CLUIConfigure * baseUIConfigure = [CLUIConfigure new];
                                                                                baseUIConfigure.viewController = self;
                                                                                CGFloat screenScale = [UIScreen mainScreen].bounds.size.width/375.0;
                                                                                baseUIConfigure.customAreaView = ^(UIView * _Nonnull customAreaView) {
                                                                                
                                                                                UIButton * button = [[UIButton alloc]init];
                                                                                [button setTitle:@&quot;其他方式登录&quot; forState:(UIControlStateNormal)];
                                                                                button.titleLabel.font = [UIFont systemFontOfSize:14];
                                                                                [button setTitleColor:[UIColor grayColor] forState:(UIControlStateNormal)];
                                                                                [button addTarget:self action:@selector(otherLoginWayBtnCliced:) forControlEvents:(UIControlEventTouchUpInside)];
                                                                                [customAreaView addSubview:button];
                                                                                
                                                                                [button mas_makeConstraints:^(MASConstraintMaker *make) {
                                                                                make.left.right.mas_equalTo(0);
                                                                                make.top.mas_equalTo(280*screenScale);
                                                                                make.height.mas_equalTo(40);
                                                                                }];
                                                                                };
                                                                                ...
                                                                                }
                                                                                //授权页 点击自定义控件绑定的方法
                                                                                -(void)otherLoginWayBtnCliced:(UIButton *)sender{
                                                                                
                                                                                //关闭页面
                                                                                [CLShanYanSDKManager finishAuthControllerCompletion:^{
                                                                                //如需关闭后present/push新页面，建议在completion回调中执行
                                                                                }];
                                                                                [SVProgressHUD showInfoWithStatus:@&quot;用户使用其他方式进行注册登录&quot;];
                                                                                }</code></pre><p><br /></p><p><strong>Swift</strong>:</p><p><br /></p><pre data-lang="swift"><code>@IBAction func quickLogin(_ sender: UIButton) {
                                                                                    ...
                                                                                    
                                                                                    let baseUIConfigure = CLUIConfigure()
                                                                                    //requried
                                                                                    baseUIConfigure.viewController = self
                                                                                    //Optional:
                                                                                    let screenScale = UIScreen.main.bounds.size.width/375.0;
                                                                                    baseUIConfigure.customAreaView = {
                                                                                    [unowned self] view in
                                                                                    let otherLoginButtonWay = UIButton()
                                                                                    otherLoginButtonWay.setTitle(&quot;其他方式登录&quot;, for: .normal)
                                                                                    otherLoginButtonWay.setTitleColor(UIColor.gray, for: .normal)
                                                                                    otherLoginButtonWay.titleLabel?.font = UIFont.systemFont(ofSize: 15)
                                                                                    view.addSubview(otherLoginButtonWay)
                                                                                    otherLoginButtonWay.snp.makeConstraints { (make) in
                                                                                    make.centerX.equalToSuperview()
                                                                                    make.top.equalTo(280*screenScale)
                                                                                    make.width.equalToSuperview()
                                                                                    make.height.equalTo(40)
                                                                                    }
                                                                                    otherLoginButtonWay.addTarget(self, action: #selector(self.otherLoginButtonWay(_:)), for: .touchUpInside)
                                                                                    }
                                                                                    ...
                                                                                    }
                                                                                    
                                                                                    //授权页 点击其他方式登录
                                                                                    @objc func otherLoginButtonWay(_ sender: UIButton) {
                                                                                    DispatchQueue.main.async(execute: {
                                                                                    SVProgressHUD.showSuccess(withStatus: (&quot;用户选择其他方式登录&quot;))
                                                                                    })
                                                                                    }</code></pre><p><br /></p><h1 id="HfbAi">四.返回码对照</h1><h2 id="EjJbX">外层错误码</h2><p>同一外层码可能对应不同的内层码</p><table class="lake-table" style="width: 723px;"><colgroup><col width="361"></col><col width="361"></col></colgroup><tbody><tr><td>外层返回码</td><td>返回码描述</td></tr></tbody><tbody><tr><td>1000</td><td>一键登录成功，解析result，可得到网络请求参数</td></tr><tr><td>1011</td><td>用户取消免密登录（点击返回按钮）</td></tr><tr><td>1001</td><td>SDK初始化失败</td></tr><tr><td>1023</td><td>预取号/取号失败</td></tr><tr><td>1003</td><td>拉起授权页失败/一键登录失败/获取token失败</td></tr><tr><td>1008</td><td>未开启移动网络</td></tr><tr><td>1009</td><td>未检测/识别到sim卡</td></tr><tr><td>其他</td><td>其他错误</td></tr></tbody></table><h2 id="jXvLy">内层错误码</h2><p><br /></p><p><strong>联通返回码</strong></p><table class="lake-table" style="width: 697px;"><colgroup><col width="158"></col><col width="225"></col><col width="312"></col></colgroup><tbody><tr><td>状态码</td><td>信息（msg）</td><td>示例说明</td></tr></tbody><tbody><tr><td>100</td><td>成功</td><td></td></tr><tr><td>101</td><td>鉴权失败</td><td>公钥或者apiKey不正确</td></tr><tr><td>103</td><td>成功（无数据返回）</td><td></td></tr><tr><td>104</td><td>系统繁忙</td><td></td></tr><tr><td>100000</td><td>通用，未明确定义的其他错误</td><td></td></tr><tr><td>100001</td><td>网络出错</td><td>apiKey配置错误或者404错误</td></tr><tr><td>100002</td><td>参数错误</td><td>服务未初始化</td></tr><tr><td>100003</td><td>数据格式错误</td><td>服务器返回结果在客户端解析出错</td></tr><tr><td>100004</td><td>无结果</td><td>服务器返回null</td></tr><tr><td>100005</td><td>数据不匹配</td><td>短信上行的认证结果与填入的不匹配计为认证失败</td></tr><tr><td>100006</td><td>包名不匹配</td><td>服务器返回的结果非本app计为失败</td></tr><tr><td>100007</td><td>apikey为空</td><td>应用未填入apiKey密钥</td></tr><tr><td>100008</td><td>超时</td><td>取号或认证时间超过超时时间</td></tr><tr><td>100009</td><td>取消</td><td>用户取消操作，计为失败</td></tr><tr><td>100012</td><td>无公钥</td><td>应用未填入公钥</td></tr><tr><td>100016</td><td>公钥出错</td><td></td></tr><tr><td>2001</td><td>取号/认证失败</td><td></td></tr><tr><td>5001</td><td>序列号不存在</td><td>seq过期或已使用（seq只能使用一次）</td></tr><tr><td>6001</td><td>参数出错</td><td>配置信息填写错误</td></tr><tr><td>6002</td><td>应用信息错误</td><td></td></tr><tr><td>6003</td><td>SDK信息错误</td><td></td></tr><tr><td>6005</td><td>接入信息错误</td><td></td></tr><tr><td>6006</td><td>获取接入信息流控类型错误</td><td></td></tr><tr><td>6008</td><td>流控超限</td><td></td></tr><tr><td>6009</td><td>设备信息未注册</td><td></td></tr><tr><td>6010</td><td>应用秘钥信息不匹配</td><td></td></tr><tr><td>7004</td><td>公司或应用ID信息出错</td><td></td></tr><tr><td>8001</td><td>无支付权限</td><td></td></tr><tr><td>8002</td><td>余额不足</td><td></td></tr></tbody></table><p><strong>电信返回码</strong></p><table class="lake-table" style="width: 686px;"><colgroup><col width="270"></col><col width="415"></col></colgroup><tbody><tr><td>返回码</td><td>返回码描述</td></tr></tbody><tbody><tr><td>0</td><td>请求成功</td></tr><tr><td>-64</td><td>permission-denied(无权限访问)</td></tr><tr><td>-65</td><td>API-request-rates-Exceed-Limitations(调用接口超限)</td></tr><tr><td>-10001</td><td>取号失败</td></tr><tr><td>-10002</td><td>参数错误</td></tr><tr><td>-10003</td><td>解密失败</td></tr><tr><td>-10004</td><td>ip受限</td></tr><tr><td>-10005</td><td>异网取号回调参数异常</td></tr><tr><td>-10006</td><td>Mdn取号失败，且属于电信网络</td></tr><tr><td>-10007</td><td>重定向到异网取号</td></tr><tr><td>-10008</td><td>超过预设取号阈值</td></tr><tr><td>-10009</td><td>时间戳过期</td></tr><tr><td>-20005</td><td>sign-invalid(签名错误）</td></tr><tr><td>-7999</td><td>服务不可用（其他错误，默认返回值）</td></tr><tr><td>-8000</td><td>responseCode非200（网络错误，http状态码错误）</td></tr><tr><td>-8001</td><td>请求网络异常</td></tr><tr><td>-8100</td><td>无网络连接（网络错误）</td></tr><tr><td>-8101</td><td>获取失败（切换失败）</td></tr><tr><td>-9999</td><td>网络故障(networkauth-fail)</td></tr><tr><td>-30003</td><td>topClass-invalid</td></tr><tr><td>-8003</td><td>请求超时</td></tr></tbody></table><p><strong>移动返回码</strong></p><table class="lake-table" style="width: 687px;"><colgroup><col width="272"></col><col width="414"></col></colgroup><tbody><tr><td>返回码</td><td>返回码描述</td></tr></tbody><tbody><tr><td>103000</td><td>成功</td></tr><tr><td>102101</td><td>无网络</td></tr><tr><td>102102</td><td>网络异常</td></tr><tr><td>102103</td><td>未开启数据网络</td></tr><tr><td>102121</td><td>用户取消登录</td></tr><tr><td>102203</td><td>输入参数错误</td></tr><tr><td>102223</td><td>数据解析异常</td></tr><tr><td>102507</td><td>请求超时</td></tr><tr><td>102508</td><td>数据网络切换失败</td></tr><tr><td>200002</td><td>手机未安装sim卡</td></tr><tr><td>200005</td><td>用户未授权（READ_PHONE_STATE）</td></tr><tr><td>200006</td><td>用户未授权（SEND_SMS）</td></tr><tr><td>200007</td><td>authType仅使用短信验证码认证</td></tr><tr><td>200008</td><td>1. authType参数为空；2. authType参数不合法；</td></tr><tr><td>200009</td><td>应用合法性校验失败（包名包签名未填写正确）</td></tr><tr><td>200010</td><td>预取号时imsi获取失败或者没有sim卡</td></tr><tr><td>200012</td><td>取号失败，跳短信验证码登录</td></tr><tr><td>200013</td><td>短信上行发送短信失败（短信上行）</td></tr><tr><td>200014</td><td>手机号码格式错误（短验）</td></tr><tr><td>200015</td><td>短信验证码格式错误</td></tr><tr><td>200016</td><td>更新KS失败</td></tr><tr><td>200017</td><td>非移动卡不支持短信上行</td></tr><tr><td>200018</td><td>不支持网关登录</td></tr><tr><td>200019</td><td>不支持短信验证码登录</td></tr><tr><td>200020</td><td>用户取消登录</td></tr><tr><td>200021</td><td>数据解析异常（服务器异常可重新尝试）</td></tr><tr><td>200022</td><td>无网络状态</td></tr><tr><td>200023</td><td>请求超时</td></tr><tr><td>200024</td><td>数据网络切换失败</td></tr><tr><td>200025</td><td>未知错误一般出现在线程捕获异常，请配合异常打印分析</td></tr><tr><td>200026</td><td>输入参数错误</td></tr><tr><td>200027</td><td>预取号时未开启数据流量</td></tr><tr><td>200028</td><td>网络请求出错（根据日志分析）</td></tr><tr><td>200029</td><td>请求出错,上次请求未完成</td></tr><tr><td>200030</td><td>没有初始化参数</td></tr><tr><td>200031</td><td>生成token失败</td></tr><tr><td>200032</td><td>KS缓存不存在</td></tr><tr><td>200033</td><td>复用中间件获取Token失败</td></tr><tr><td>200034</td><td>预取号token失效</td></tr><tr><td>200035</td><td>协商ks失败</td></tr><tr><td>200036</td><td>预取号失败</td></tr><tr><td>200037</td><td>获取不到openid</td></tr><tr><td>200038</td><td>电信重定向失败</td></tr><tr><td>200039</td><td>电信取号接口返回失败</td></tr><tr><td>200040</td><td>UI资源加载异常</td></tr><tr><td>200042</td><td>授权页弹出异常</td></tr><tr><td>200060</td><td>用户点击“切换账号”且使用应用自己的短信验证码时返回</td></tr><tr><td>200062</td><td>联通号码不支持预取号</td></tr><tr><td>200063</td><td>电信号码不支持预取号</td></tr><tr><td></td><td></td></tr><tr><td>获取手机号码接口返回码</td><td></td></tr><tr><td>返回码</td><td>返回码描述</td></tr><tr><td>103000</td><td>返回成功</td></tr><tr><td>103101</td><td>签名错误</td></tr><tr><td>103102</td><td>包名/包签名/bundle id错误</td></tr><tr><td>103106</td><td>输入手机号不合法（短验）</td></tr><tr><td>103107</td><td>已存在相同的随机数（短验）</td></tr><tr><td>103108</td><td>短信验证码错误</td></tr><tr><td>103109</td><td>短信验证码超时</td></tr><tr><td>103111</td><td>wap网关IP错误</td></tr><tr><td>103112</td><td>错误的请求</td></tr><tr><td>103113</td><td>token校验错误</td></tr><tr><td>103119</td><td>appid不合法</td></tr><tr><td>103122</td><td>btid不存在</td></tr><tr><td>103125</td><td>手机号格式错误（短验）</td></tr><tr><td>103127</td><td>证书验证：版本过期</td></tr><tr><td>103133</td><td>sourceid不合法</td></tr><tr><td>103138</td><td>appid已存在</td></tr><tr><td>103139</td><td>sourceid已存在</td></tr><tr><td>103202</td><td>缓存用户不存在或者验证短信输入失败次数过多</td></tr><tr><td>103203</td><td>缓存用户不存在（短信上行）</td></tr><tr><td>103204</td><td>缓存随机数不存</td></tr><tr><td>103205</td><td>服务器异常</td></tr><tr><td>103207</td><td>发送短信失败</td></tr><tr><td>103211</td><td>其他错误</td></tr><tr><td>103214</td><td>访问缓存或数据库错误</td></tr><tr><td>103401</td><td>消息签名为空</td></tr><tr><td>103404</td><td>加密失败</td></tr><tr><td>103408</td><td>此sourceId注册已达上限99次</td></tr><tr><td>103409</td><td>query参数为空</td></tr><tr><td>103412</td><td>无效的请求</td></tr><tr><td>103414</td><td>参数效验异常</td></tr><tr><td>103505</td><td>重放攻击</td></tr><tr><td>103511</td><td>源IP不合法</td></tr><tr><td>103810</td><td>token校验失败，接口版本不一致</td></tr><tr><td>103811</td><td>token为空</td></tr><tr><td>103901</td><td>短信验证码下发次数已达上限 (一分钟内最多5次,一天最多10次)</td></tr><tr><td>103902</td><td>临时取号凭证scrip校验失败</td></tr><tr><td>103911</td><td>请求过于频繁（短信校验）</td></tr><tr><td>103922</td><td>自动升级文件没找到</td></tr><tr><td>104201</td><td>token已经被校验过或者超时失效</td></tr><tr><td>104202</td><td>短信验证失败过多</td></tr><tr><td>105001</td><td>联通网关取号失败</td></tr><tr><td>105002</td><td>移动网关取号失败</td></tr><tr><td>105003</td><td>电信网关取号失败</td></tr><tr><td>105005</td><td>短信上行发送信息为空</td></tr><tr><td>105007</td><td>手机号码格式错误（短信上行）</td></tr><tr><td>105008</td><td>短信内容为空（短信上行）</td></tr><tr><td>105010</td><td>script失效或者非法</td></tr><tr><td>105011</td><td>参数加密的私钥失效或者非法</td></tr><tr><td>105012</td><td>不支持电信取号</td></tr><tr><td>105013</td><td>不支持联通取号</td></tr><tr><td>105018</td><td>用户权限不够</td></tr><tr><td>105019</td><td>应用未授权（未勾选能力）</td></tr><tr><td>105302</td><td>AppId不在白名单</td></tr></tbody></table><h1 id="X6dq5">五.已知问题</h1><p><br /></p><p><span class="lake-fontsize-14" style="color: #F5222D;"><strong><span>更多问题查询请移步至</span></strong></span><a href="http://flash.253.com/document/details?lid=297&amp;cid=92&amp;pc=28&amp;pn=%25E9%2597%25AA%25E9%25AA%258CSDK" target="_blank"><span class="lake-fontsize-14"><strong>【常见问题】</strong></span></a></p><p><br /></p><p><span class="lake-fontsize-11"><strong>1.ATS开关(Http与Https)</strong></span></p><p><span class="lake-fontsize-11">目前运营商个别接口为http请求，对于全局禁用Http的项目，需要设置Http白名单。以下为运营商http接口host名单：</span></p><p><span class="lake-fontsize-11" style="color: #000000;">*.</span><span class="lake-fontsize-11" style="color: #000000;">cmpassport.com、id6.me、</span><span style="color: #000000;">123.125.99.8:9001</span><span style="color: #000000;">、<span>ms.zzx9.cn</span>、<span>mdn.open.wo.cn</span>、<span>10.99.255.231</span></span><span class="lake-fontsize-11" style="color: #000000;">，*为通配符，建议按以下方式配置Info.plist</span></p><p><br /></p><pre data-lang="jsx"><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;
                                                                                        &lt;dict&gt;
                                                                                        &lt;key&gt;NSExceptionDomains&lt;/key&gt;
                                                                                        &lt;dict&gt;
                                                                                        &lt;key&gt;zzx9.cn&lt;/key&gt;
                                                                                        &lt;dict&gt;
                                                                                        &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;
                                                                                        &lt;true/&gt;
                                                                                        &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;
                                                                                        &lt;true/&gt;
                                                                                        &lt;/dict&gt;
                                                                                        &lt;key&gt;cmpassport.com&lt;/key&gt;
                                                                                        &lt;dict&gt;
                                                                                        &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;
                                                                                        &lt;true/&gt;
                                                                                        &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;
                                                                                        &lt;true/&gt;
                                                                                        &lt;/dict&gt;
                                                                                        &lt;key&gt;id6.me&lt;/key&gt;
                                                                                        &lt;dict&gt;
                                                                                        &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;
                                                                                        &lt;true/&gt;
                                                                                        &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;
                                                                                        &lt;true/&gt;
                                                                                        &lt;/dict&gt;
                                                                                        &lt;key&gt;wostore.cn&lt;/key&gt;
                                                                                        &lt;dict&gt;
                                                                                        &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;
                                                                                        &lt;true/&gt;
                                                                                        &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;
                                                                                        &lt;true/&gt;
                                                                                        &lt;/dict&gt;
                                                                                        &lt;key&gt;mdn.open.wo.cn&lt;/key&gt;
                                                                                        &lt;dict&gt;
                                                                                        &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;
                                                                                        &lt;true/&gt;
                                                                                        &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;
                                                                                        &lt;true/&gt;
                                                                                        &lt;/dict&gt;
                                                                                        &lt;/dict&gt;
                                                                                        &lt;/dict&gt;</code></pre><p><br /></p><p><br /></p><p><span class="lake-fontsize-11" style="color: #000000;"><strong>2.移动报 </strong></span><span class="lake-fontsize-11" style="color: #000000;"><strong><span>获取移动</span></strong></span><span class="lake-fontsize-11" style="color: #000000;"><strong>token</strong></span><span class="lake-fontsize-11" style="color: #000000;"><strong><span>失败</span></strong></span><span class="lake-fontsize-11" style="color: #000000;"><strong> Code=1003 </strong></span><span class="lake-fontsize-11" style="color: #000000;"><strong><span>“(</span></strong></span><span class="lake-fontsize-11" style="color: #000000;"><strong>null</strong></span><span class="lake-fontsize-11" style="color: #000000;"><strong><span>)”</span></strong></span><span class="lake-fontsize-11" style="color: #000000;"><strong> UserInfo={desc=</strong></span><span class="lake-fontsize-11" style="color: #000000;"><strong><span>错误的请求签名,</span> resultCode=103101}</strong></span></p><p><span style="color: #000000;"><strong><span class="lake-fontsize-11">【获取token失败、错误的请求签名、103101】</span></strong></span></p><p><span class="lake-fontsize-11" style="color: #000000;">工程中的Info.plist中添加bundleId对应的key-value。</span><span style="color: #000000;">搜索Xcode项目工程中的.strings</span><span style="color: #000000;">国际化</span><span style="color: #000000;">文件，</span><span class="lake-fontsize-11" style="color: #000000;">如果app存在本地国际化文件<strong>，</strong></span><span class="lake-fontsize-11" style="color: #000000;">请在每个本地国际化文件中添加CFBundleIdentifier，各个语言版本文件中都需要添加。</span></p><p><span class="lake-fontsize-11" style="color: #F5222D;"><br /></span></p><p><img src="https://cdn.nlark.com/yuque/0/2019/png/282058/1560861181669-f69d6081-2d59-4f63-aa47-f19be03f1d8a.png#align=left&amp;display=inline&amp;height=193&amp;name=image.png&amp;originHeight=273&amp;originWidth=1055&amp;size=217095&amp;status=done&amp;width=746#align=left&amp;display=inline&amp;height=193&amp;originHeight=273&amp;originWidth=1055&amp;status=done&amp;width=746" style="max-width: 600px; width: 746px;" /></p><p><br /></p><p><span style="color: #000000;"><strong>3.联通预取号崩溃【预取号+联通+崩溃、NSDictionary + setObject、空指针】</strong></span></p><p><span style="color: #000000;"><strong>联通SDK内部会读取校验info.plist文件中Bundle identifier、Bundle name、Bundle versions string, short、Bundle version字段，如未配置相关字段Value会导致以下崩溃</strong></span></p><p><strong><span style="color: #F5222D;"><img src="https://cdn.nlark.com/yuque/0/2019/png/282058/1560864028480-622a89e9-ef86-4b51-a85a-ce95fb0ed636.png#align=left&amp;display=inline&amp;height=328&amp;name=image.png&amp;originHeight=656&amp;originWidth=1320&amp;size=140016&amp;status=done&amp;width=660#align=left&amp;display=inline&amp;height=328&amp;originHeight=656&amp;originWidth=1320&amp;status=done&amp;width=660" style="max-width: 600px; width: 660px;" /></span></strong></p><p><strong><span style="color: #F5222D;"><br /></span></strong></p><p><strong><span style="color: #F5222D;"><img src="https://cdn.nlark.com/yuque/0/2019/png/282058/1560864129981-37945b3f-f570-4806-8e1e-0b3836f674f8.png#align=left&amp;display=inline&amp;height=479&amp;name=image.png&amp;originHeight=582&amp;originWidth=808&amp;size=645871&amp;status=done&amp;width=665#align=left&amp;display=inline&amp;height=479&amp;originHeight=582&amp;originWidth=808&amp;status=done&amp;width=665" style="max-width: 600px; width: 665px;" /></span></strong></p><p><br /></p></article></div></div> <!----></section></div></div></div></div></div><script>window.__NUXT__=(function(a,b,c,d,e,f,g,h,i,j){return {layout:"api",data:[{menu:[{labelList:[{labelId:475,labelName:"使用手册",cateId:c,yuqueActive:a},{labelId:292,labelName:f,cateId:c,yuqueActive:a},{labelId:293,labelName:"业务流程",cateId:c,yuqueActive:a},{labelId:294,labelName:"客户案例",cateId:c,yuqueActive:a}],cateId:c,cateName:"产品指南"},{labelList:[{labelId:295,labelName:"售前问题",cateId:d,yuqueActive:a},{labelId:296,labelName:f,cateId:d,yuqueActive:a},{labelId:297,labelName:"对接问题",cateId:d,yuqueActive:a}],cateId:d,cateName:"常见问题"},{labelList:[{labelId:298,labelName:"Android V2.2.0",cateId:b,yuqueActive:a},{labelId:g,labelName:h,cateId:b,yuqueActive:a},{labelId:300,labelName:"服务端",cateId:b,yuqueActive:a},{labelId:374,labelName:"升级指南",cateId:b,yuqueActive:a},{labelId:301,labelName:"返回码",cateId:b,yuqueActive:a}],cateId:b,cateName:i},{labelList:[{labelId:302,labelName:"SDK文档下载",cateId:e,yuqueActive:a},{labelId:372,labelName:"Android v2.1.3",cateId:e,yuqueActive:a},{labelId:373,labelName:"iOS v2.1.3",cateId:e,yuqueActive:a}],cateId:e,cateName:"资源下载"}],content:"\u003Ch1 id=\"oTlgD\"\u003E\u003Cspan style=\"background-color: transparent;\"\u003E概述\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\u003C\u002Fh1\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E当前版本：2.2.0.4\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E发版时间：2019年07月08\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E文档最后更新时间：2019年07月09日\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E常见问题请移步至\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #1890FF;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E「\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Ca href=\"http:\u002F\u002Fflash.253.com\u002Fdocument\u002Fdetails?lid=297&amp;cid=92&amp;pc=28&amp;pn=%25E9%2597%25AA%25E9%25AA%258CSDK\" target=\"_blank\"\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #1890FF;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E对接问题\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #1890FF;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E」\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E崩溃问题请移步至\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #1890FF;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E「\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #1890FF;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E\u003Ca href=\"http:\u002F\u002Fflash.253.com\u002Fdocument\u002Fdetails?lid=297&amp;cid=92&amp;pc=28&amp;pn=%25E9%2597%25AA%25E9%25AA%258CSDK\" target=\"_blank\"\u003E崩溃问题\u003C\u002Fa\u003E」\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Ca href=\"http:\u002F\u002Fflash.253.com\u002Fdocument\u002Fdetails?labelId=374&amp;labelName=%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97&amp;cateId=93&amp;productCode=28&amp;productName=%E9%97%AA%E9%AA%8CSDK\" target=\"_blank\"\u003E\u003C\u002Fa\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E版本更新：所有版本通用方式——替换SDK静态库， 删除旧版本SDK所有相关的`.framework`\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E`.bundle`\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E文件，清除缓存，再导入新版SDK中的所有`.framework`\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E`.bundle`\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E文件（\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E.bundle\u003C\u002Fstrong\u003E\u003Cstrong\u003E文件注意保留开发者自定义资源），详细说明请移步至「\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-12\"\u003E\u003Cstrong\u003E\u003Cspan style=\"color: #1890FF;\"\u003E\u003Ca href=\"http:\u002F\u002Fflash.253.com\u002Fdocument\u002Fdetails?lid=374&amp;cid=93&amp;pc=28&amp;pn=%25E9%2597%25AA%25E9%25AA%258CSDK\" target=\"_blank\"\u003E升级指南\u003C\u002Fa\u003E」\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E如需SDK及相关文档下载请移步至\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #1890FF;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E「\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-12\" style=\"color: #1890FF;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E\u003Ca href=\"http:\u002F\u002Fflash.253.com\u002Fdocument\u002Fdetails?lid=302&amp;cid=94&amp;pc=28&amp;pn=%25E9%2597%25AA%25E9%25AA%258CSDK\" target=\"_blank\"\u003ESDK资源下载\u003C\u002Fa\u003E」\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch1 id=\"blko4\"\u003E\u003Cbr \u002F\u003E\u003C\u002Fh1\u003E\u003Ch1 id=\"EHAyn\"\u003E一.准备工作\u003C\u002Fh1\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"hxy0m\"\u003E前置条件\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E闪验SDK支持\u003Cspan\u003EXcode 9.4.1，\u003C\u002Fspan\u003EiOS8.0+及以上版本。\u003C\u002Fli\u003E\u003Cli\u003E闪验SDK支持中国移动、联通、电信4G的取号能力。\u003C\u002Fli\u003E\u003Cli\u003E闪验SDK支持网络环境为\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003Ea.纯数据网络\u003C\u002Fp\u003E\u003Cp\u003Eb.数据网络与wifi网络双开\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cspan style=\"background-color: transparent;\"\u003E对于双卡手机，闪验SDK取当前流量卡号\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"zltx8\"\u003E创建应用\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\"color: #F5222D;\"\u003E提示：一个应用对应一个appid，多个应用（不同bundleID）需在闪验平台创建多个应用以对应多个appid\u003C\u002Fspan\u003E\u003Cspan style=\"color: #F5222D;\"\u003E\u003Cbr \u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan\u003E应用的创建流程及APPID\u002FAPPKEY的获取，请查看「\u003C\u002Fspan\u003E\u003Ca href=\"http:\u002F\u002Fflash.253.com\u002Fdocument\u002Fdetails?lid=292&amp;cid=91&amp;pc=28&amp;pn=%25E9%2597%25AA%25E9%25AA%258CSDK\" target=\"_blank\"\u003E账号创建\u003C\u002Fa\u003E\u003Cspan\u003E」文档\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-11\"\u003E\u003Cbr \u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"4CYnF\"\u003E快速体验Demo\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-11\"\u003E将创建应用时获得的AppID、AppKey填入Demo工程中.pch文件，修改工程BundleID为\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\"\u003E创建应用时绑定的BundleID即可\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"6cIsX\"\u003E开发环境搭建\u003C\u002Fh2\u003E\u003Cp style=\"text-align: left;\"\u003E闪验SDK提供两种集成方式供iOS开发者选择：\u003C\u002Fp\u003E\u003Cul style=\"text-align: left;\"\u003E\u003Cli\u003E通过CocoaPods自动集成\u003C\u002Fli\u003E\u003Cli\u003E手动集成\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch4 id=\"cocoapods\" style=\"text-align: left;\"\u003E通过CocoaPods\u003Cspan\u003E自动\u003C\u002Fspan\u003E集成\u003C\u002Fh4\u003E\u003Cp style=\"text-align: left;\"\u003E在工程的\u003Ccode\u003EPodfile\u003C\u002Fcode\u003E里面添加以下代码：\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E#以下三种版本选择方式示例\n\n#集成最新版闪验SDK:\npod 'CL_ShanYanSDK'\n\n#集成指定版本闪验SDK:\npod 'CL_ShanYanSDK', '2.2.0.4'\n\n#集成指定版本闪验SDK,并在末位小版本范围更新:\npod 'CL_ShanYanSDK', '~&gt; 2.2.0.4'\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp style=\"text-align: left;\"\u003E保存并执行\u003Ccode\u003Epod install\u003C\u002Fcode\u003E,然后用后缀为\u003Ccode\u003E.xcworkspace\u003C\u002Fcode\u003E的文件打开工程。\u003C\u002Fp\u003E\u003Cp style=\"text-align: left;\"\u003E注意:\u003C\u002Fp\u003E\u003Cp style=\"text-align: left;\"\u003E命令行下执行\u003Ccode\u003Epod search CL_ShanYanSDK\u003C\u002Fcode\u003E,如显版本不是最新的，则先执行\u003Ccode\u003Epod repo update\u003C\u002Fcode\u003E操作更新本地repo的内容\u003C\u002Fp\u003E\u003Cp style=\"text-align: left;\"\u003E关于\u003Ccode\u003ECocoaPods\u003C\u002Fcode\u003E的更多信息请查看 \u003Ca href=\"https:\u002F\u002Fcocoapods.org\u002F\" target=\"_blank\"\u003ECocoaPods官方网站\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch4 id=\"_1\" style=\"text-align: left;\"\u003E手动集成\u003C\u002Fh4\u003E\u003Col start=\"1\"\u003E\u003Cli\u003E\u003Cstrong\u003E导入framework\u003C\u002Fstrong\u003E： 将闪验SDK压缩包中framework文件夹下所有资源添加到工程中\u003Cspan style=\"color: #F5222D;\"\u003E（注意勾选Copy items if needed）\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp\u003E\u003Cimg alt=\"导入资源文件1.jpg\" title=\"导入资源文件1.jpg\" src=\"https:\u002F\u002Fcdn.nlark.com\u002Fyuque\u002F0\u002F2019\u002Fjpeg\u002F282058\u002F1559180339839-c0aa4aeb-a03d-4d0f-9b68-cae30ba9d715.jpeg#align=left&amp;display=inline&amp;height=860&amp;name=%E5%AF%BC%E5%85%A5%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B61.jpg&amp;originHeight=860&amp;originWidth=1460&amp;size=155984&amp;status=done&amp;width=1460\" style=\"max-width: 600px; width: 1460px;\" \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Col start=\"2\"\u003E\u003Cli\u003EXcode配置：\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003EOtherLinkerFlags中 添加**-ObjC**\u003C\u002Fstrong\u003E：xcode-&gt;BuildSetting-&gt;Other Linker Flags 添加 **-ObjC**\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E\u003Cimg alt=\"otherLink-ObjC.jpg\" title=\"otherLink-ObjC.jpg\" src=\"https:\u002F\u002Fcdn.nlark.com\u002Fyuque\u002F0\u002F2019\u002Fjpeg\u002F282058\u002F1559180945899-6378acff-f2c3-4e20-8983-67c73a2d7a6c.jpeg#align=left&amp;display=inline&amp;height=1218&amp;name=otherLink-ObjC.jpg&amp;originHeight=1218&amp;originWidth=2130&amp;size=481650&amp;status=done&amp;width=2130\" style=\"max-width: 600px; width: 2130px;\" \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003E添加libc++.1.tbd\u003C\u002Fstrong\u003E: 在xcode-&gt;General-&gt;Linked Frameworks and Libraries中点击 **+** ，搜索并选择添加 **libc++.1.tbd**\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E\u003Cimg alt=\"libc++.1.tbd.jpg\" title=\"libc++.1.tbd.jpg\" src=\"https:\u002F\u002Fcdn.nlark.com\u002Fyuque\u002F0\u002F2019\u002Fjpeg\u002F282058\u002F1559181085703-a02171f0-1635-4035-8e4c-0ef95948365f.jpeg#align=left&amp;display=inline&amp;height=590&amp;name=libc%2B%2B.1.tbd.jpg&amp;originHeight=590&amp;originWidth=1798&amp;size=176738&amp;status=done&amp;width=1798\" style=\"max-width: 600px; width: 1798px;\" \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Col start=\"3\"\u003E\u003Cli\u003E \u003Cstrong\u003ESwift\u003C\u002Fstrong\u003E工程需要额外添加-force_load：\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cul\u003E\u003Cli\u003E在xcode-&gt;BuildSetting-&gt;Other Linker Flags 添加-force_load\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E\u003Cimg alt=\"swift-force_load.jpg\" title=\"swift-force_load.jpg\" src=\"https:\u002F\u002Fcdn.nlark.com\u002Fyuque\u002F0\u002F2019\u002Fjpeg\u002F282058\u002F1559181358354-1923f4b2-810f-40e4-8397-942beba5931c.jpeg#align=left&amp;display=inline&amp;height=878&amp;name=swift-force_load.jpg&amp;originHeight=878&amp;originWidth=2244&amp;size=338161&amp;status=done&amp;width=2244\" style=\"max-width: 600px; width: 2244px;\" \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E在-force_load下方添加CL_ShanYanSDK.framework\u002FCL_ShanYanSDK所在路径，具体操作可以将CL_ShanYanSDK.framework拖入空栏，在尾部拼接静态库名称CL_ShanYanSDK，将前缀绝对地址改成相对地址$(SRCROOT)，最终为 &quot;$(SRCROOT)\u002F...\u002FCL_ShanYanSDK.framework\u002FCL_ShanYanSDK&quot;形式\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E\u003Cimg alt=\"swift-sdk-path.jpg\" title=\"swift-sdk-path.jpg\" src=\"https:\u002F\u002Fcdn.nlark.com\u002Fyuque\u002F0\u002F2019\u002Fjpeg\u002F282058\u002F1559181377702-ff77dbf9-3caf-4722-9a49-cbd5ce27a725.jpeg#align=left&amp;display=inline&amp;height=888&amp;name=swift-sdk-path.jpg&amp;originHeight=888&amp;originWidth=2242&amp;size=398864&amp;status=done&amp;width=2242\" style=\"max-width: 600px; width: 2242px;\" \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch1 id=\"Zw4un\"\u003E二.SDK使用说明\u003C\u002Fh1\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"eSSWn\"\u003E1.初始化\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E方法原型\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003E\u002F**初始化*\u002F\n+(void)initWithAppId:(NSString *)appId AppKey:(NSString *)appKey complete:(nullable CLComplete)complete;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E参数描述\u003C\u002Fp\u003E\u003Ctable class=\"lake-table\" style=\"width: 700px;\"\u003E\u003Ccolgroup\u003E\u003Ccol width=\"132\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"93\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"130\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"344\"\u003E\u003C\u002Fcol\u003E\u003C\u002Fcolgroup\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003E参数\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd rowspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E是否必填\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E类型\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E说明\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan\u003EappId \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd rowspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cstrong\u003E必填\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003ENSString\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan\u003E闪验appID\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan\u003EappKey \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd rowspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cstrong\u003E必填\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan\u003ENSString\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan\u003E闪验appKey\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003Ecomplete \u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd rowspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cstrong\u003E选填\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003ECLComplete\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E初始化回调block，可以在此回调block中接收初始化情况，也可以不关心初始化结果\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\u003Cp\u003E\u003Cstrong\u003E接口作用\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cbr \u002F\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan\u003E初始化SDK\u003C\u002Fspan\u003E :传入用户的appID、appKey,获取本机运营商,读取缓存,获取运营商配置,初始化SDK\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E使用场景\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cbr \u002F\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cspan style=\"color: #F5222D;\"\u003E建议在app启动时调用\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cspan style=\"color: #F5222D;\"\u003E必须在一键登录前至少调用一次\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cspan style=\"color: #F5222D;\"\u003E只需调用一次，多次调用不会多次初始化，与一次调用效果一致\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E请求示例代码\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cbr \u002F\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EObjC\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\u003Col start=\"1\"\u003E\u003Cli\u003E导入闪验SDK头文件 \u003Ccode\u003E#import &lt;CL_ShanYanSDK\u002FCL_ShanYanSDK.h&gt;\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\u003Cli\u003E在AppDelegate中的 \u003Ccode\u003EdidFinishLaunchingWithOptions\u003C\u002Fcode\u003E方法中添加初始化代码\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003E- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    ...\n     \u002F\u002F初始化\n     [CLShanYanSDKManager initWithAppId:cl_SDK_APPID AppKey:cl_SDK_APPKEY complete:nil];\n    ...\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003ESwift\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\u003Col start=\"1\"\u003E\u003Cli\u003E创建混编桥接头文件并导入闪验SDK头文件 \u003Ccode\u003E#import &lt;CL_ShanYanSDK\u002FCL_ShanYanSDK.h&gt;\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\u003Cli\u003E在AppDelegate中的 \u003Ccode\u003EdidFinishLaunchingWithOptions\u003C\u002Fcode\u003E方法中添加初始化代码\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cpre data-lang=\"swift\"\u003E\u003Ccode\u003Efunc application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool {\n\t\u002F\u002F 建议先检测APP登录状态，未登录再使用闪验\n   ...\n   \u002F\u002F初始化        \n   CLShanYanSDKManager.initWithAppId(&quot;your appID&quot;, appKey: &quot;your appKey&quot;)\n   ...\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"zWeon\"\u003E2.预取号\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan\u003E方法原型\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan\u003E\u003Cbr \u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003E\u002F**\n * 预取号（获取临时凭证）\n * 建议在判断当前用户属于未登录状态时使用，已登录状态用户请不要调用该方法\n *\u002F\n+(void)preGetPhonenumber:(nullable CLComplete)complete;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E接口作用\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003E电信、联通、移动预取号\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E :初始化成功后，如果当前为电信\u002F联通\u002F移动，将调用预取号，可以提前获知当前用户的手机网络环境是否符合一键登录的使用条件，成功后将得到用于一键登录使用的临时凭证，默认的凭证有效期60s(电信)\u002F30min(联通)\u002F60min(移动)。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E使用场景\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cspan style=\"color: #F5222D;\"\u003E建议在执行一键登录的方法前，提前一段时间调用此方法\u003C\u002Fspan\u003E，比如调一键登录的vc的viewdidload中，或者rootVC的viewdidload中，或者app启动后，此调用将有助于提高闪验拉起授权页的速度和成功率\u003C\u002Fli\u003E\u003Cli\u003E不建议调用后立即调用拉起授权页方法（此方法是异步）\u003C\u002Fli\u003E\u003Cli\u003E此方法需要1~2s的时间取得临时凭证，因此也不建议和拉起授权页方法一起串行调用\u003C\u002Fli\u003E\u003Cli\u003E不建议频繁的多次调用和在拉起授权页后调用\u003C\u002Fli\u003E\u003Cli\u003E\u003Cstrong\u003E\u003Cspan style=\"color: #F5222D;\"\u003E建议在判断当前用户属于未登录状态时使用，已登录状态用户请不要调用该方法\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E请求示例代码\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cbr \u002F\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EObjC\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003E#import &lt;CL_ShanYanSDK\u002FCL_ShanYanSDK.h&gt;\n\u002F\u002F开发者调拉起授权页的vc\n@implementation CustomLoginViewController\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    if (YourAppLoginStatus == NO) {\n        \u002F\u002F预取号\n        [CLShanYanSDKManager preGetPhonenumber:nil];\n        ...\n    }\n}\n...\n\u002F\u002F拉起授权页\n- (void)shanYanAuthPageLogin{\n    ...\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"wCSyi\"\u003E3.拉起授权页\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\"color: #F5222D;\"\u003E在预取号成功后调用\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E，\u003Cspan style=\"color: #595959;\"\u003E预取号\u003C\u002Fspan\u003E失败不建议调用。调用拉起授权页方法后将会调起运营商授权页面。该方法会拉起登录界面，\u003Cstrong\u003E\u003Cspan style=\"color: #F5222D;\"\u003E\u003Cspan\u003E已登录状态请勿调用 。\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\"color: #F5222D;\"\u003E\u003Cspan\u003E\u003Cbr \u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003E\u002F\u002F闪验一键登录接口\n+(void)quickAuthLoginWithConfigure:(CLUIConfigure *)clUIConfigure\n           openLoginAuthListener:(CLComplete)openLoginAuthListener\n                          oneKeyLoginListener:(CLComplete)oneKeyLoginListener;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E参数描述\u003C\u002Fp\u003E\u003Ctable class=\"lake-table\" style=\"width: 807px;\"\u003E\u003Ccolgroup\u003E\u003Ccol width=\"253\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"175\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"378\"\u003E\u003C\u002Fcol\u003E\u003C\u002Fcolgroup\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003E参数\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E类型\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E说明\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EclUIConfigure\u003Cspan\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F5222D;\"\u003E\u003Cstrong\u003E必填\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003ECLUIConfigure\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan\u003E授权页控件属性配置对象\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003EopenLoginAuthListener  \u003Cstrong\u003E选填\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003ECLComplete\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E拉起授权页的回调，拉起页面成功失败均触发\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003EoneKeyLoginListener\u003Cspan\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #F5222D;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E必填\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003ECLComplete\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003E一键登录回调，用于接收一键登录的结果，点一键登录\u003C\u002Fspan\u003E\u003Cspan\u003E成功失败均触发，点自带的返回按钮也触发\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\u003Cp\u003E使用场景\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E用户进行一键登录操作时，调用一键登录方法，如果初始化成功，SDK将会拉起授权页面，用户授权后，SDK将返回取号 token给到应用客户端。\u003C\u002Fli\u003E\u003Cli\u003E可以在多处调用\u003C\u002Fli\u003E\u003Cli\u003E需在调用预初始化方法之后调用\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E一键登录逻辑说明\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E存在调用预初始化时获取的临时凭证，调用一键登录方法将立即拉起授权页面\u003C\u002Fli\u003E\u003Cli\u003E\u003Cspan\u003EopenLoginAuthListener\u003C\u002Fspan\u003E\u003Cspan\u003E 拉起授权页监听回调，拉起成功或失败均触发\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\u003Cli\u003E不存在临时凭证或临时凭证过期时(临时凭证有效期电信60s、联通30min、移动60min)，调用一键登录方法，将有一个很短的时延，待取号成功后拉起授权页面\u003C\u002Fli\u003E\u003Cli\u003E取号失败时，返回失败 \u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E请求示例代码\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EObjC\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\u003Col start=\"1\"\u003E\u003Cli\u003E导入闪验SDK头文件 \u003Ccode\u003E#import &lt;CL_ShanYanSDK\u002FCL_ShanYanSDK.h&gt;\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\u003Cli\u003E在需要使用一键登录的地方调用闪验一键登录接口\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003E\u002F\u002F 用户需要使用闪验一键登录时的方法\n- (void)quickLoginBtnClick:(UIButton *)sender {\n\n    __weak typeof(self) weakself = self;\n\n    CGFloat screenScale = [UIScreen mainScreen].bounds.size.width\u002F375.0;\n\n    CLUIConfigure * baseUIConfigure = [CLUIConfigure new];\n    baseUIConfigure.viewController = self;\n    baseUIConfigure.clLogoImage = [UIImage imageNamed:@&quot;your_app_logo_image&quot;];\n    \n    \u002F\u002Flayout 布局\n    CLOrientationLayOut * clOrientationLayOutPortrait = [CLOrientationLayOut new];\n    clOrientationLayOutPortrait.clLayoutPhoneCenterY = @(0*screenScale);\n    clOrientationLayOutPortrait.clLayoutPhoneLeft = @(50*screenScale);\n    ...\n    baseUIConfigure.clOrientationLayOutPortrait = clOrientationLayOutPortrait;\n    \n    \u002F\u002F开发者自己的loading（注意后面loading的隐藏时机）\n    [SVProgressHUD setContainerView:self.view];\n    [SVProgressHUD show];\n\n    \u002F\u002F闪验一键登录接口（将拉起授权页）\n    [CLShanYanSDKManager quickAuthLoginWithConfigure:baseUIConfigure openLoginAuthListener:^(CLCompleteResult * _Nonnull completeResult) {\n            [SVProgressHUD hide];\n            if (completeResult.error) {\n                \u002F\u002F拉起授权页失败\n                NSLog(@&quot;openLoginAuthListener:%@&quot;,completeResult.error.userInfo);\n            }else{\n               \u002F\u002F拉起授权页成功\n                NSLog(@&quot;openLoginAuthListener:%@&quot;,completeResult.yy_modelToJSONObject);\n            }\n        } oneKeyLoginListener:^(CLCompleteResult * _Nonnull completeResult) {\n            __strong typeof(self) strongSelf = weakSelf;\n            \n            [SVProgressHUD hide];\n\n            if (completeResult.error) {\n                \u002F\u002F一键登录失败\n                NSLog(@&quot;oneKeyLoginListener:%@&quot;,completeResult.error.description);\n                \n                \u002F\u002F提示：错误无需提示给用户，可以在用户无感知的状态下直接切换登录方式\n                if (completeResult.code == 1011){\n                    \u002F\u002F用户取消登录（点返回）\n                    \u002F\u002F处理建议：如无特殊需求可不做处理，仅作为交互状态回调，此时已经回到当前用户自己的页面\n                    \u002F\u002F点击sdk自带的返回，无论是否设置手动销毁，授权页面都会强制关闭\n                }  else{\n                    \u002F\u002F处理建议：其他错误代码表示闪验通道无法继续，可以统一走开发者自己的其他登录方式，也可以对不同的错误单独处理\n                    \u002F\u002F1003    一键登录获取token失败\n                    \u002F\u002F1008    未开启移动网络\n                    \u002F\u002F1009    未检测到sim卡\n                    \u002F\u002F其他     其他错误\u002F\u002F\n                    \n                    \u002F\u002F关闭授权页，如果授权页还未拉起，此调用不会关闭当前用户vc，即不执行任何代码\n                    [CLShanYanSDKManager finishAuthControllerCompletion:nil];\n                    \n                }\n            }else{\n                \u002F\u002F一键登录获取Token成功\n                NSLog(@&quot;oneKeyLoginListener:%@&quot;,completeResult.yy_modelDescription);\n                \n                \u002F\u002FSDK成功获取到Token\n                \u002F** token置换手机号\n                code\n                *\u002F\n            }\n        }];\n }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan\u003E一键登录 \u003C\u002Fspan\u003E\u003Ccode\u003EquickAuthLoginWith:complete:\u003C\u002Fcode\u003E正确返回示例\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cpre data-lang=\"json\"\u003E\u003Ccode\u003EcompleteResult-&gt;_data:\n{\n    accessToken = 2ebf48fbe75a45449ed78ecca9c5d93c;\n    appId = xxxxxx;\n    device = ZGV2aWNlPWlQaG9uZTd8aXA9MTcyLjE2LjExLjZ8RElEPTBkOGY2NzViZjdkYjRjZDdmMWI1YmM5NDI3NWIyZTQ0fHV1aWQ9MzBjZGU2ZTktYzZmOS00MGNhLTk4MjEtMzI4NGM0ZDViZDNj;\n    randoms = &quot;321bfcdb-bb34-4e3e-bbf7-def83d33bd76&quot;;\n    sign = &quot;sNeHtWihz7B4iTY1Fch5+ztllDA=&quot;;\n    telecom = CTCC;\n    timestamp = 1558771442361;\n    version = &quot;2.2.0&quot;;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ctable class=\"lake-table\" style=\"width: 726px;\"\u003E\u003Ccolgroup\u003E\u003Ccol width=\"138\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"125\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"462\"\u003E\u003C\u002Fcol\u003E\u003C\u002Fcolgroup\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E字段\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E类型\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E含义\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EappId\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003EString\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E当前项目的appid\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EaccessToken\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003EString\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #F5222D;\"\u003Etoken，置换令牌，用来和后台置换手机号。一次有效，有效期3min\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003Etelecom\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003EString\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E当前数据流量卡的运营商类型：\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\"\u003ECMCC 移动\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\"\u003ECTCC  电信\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\"\u003ECUCC  联通\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003Etimestamp\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003EString\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E网络时间\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003Erandoms\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003EString\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E随机数\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003Eversion\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003EString\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E后台接口版本号\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003Esign\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003EString\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E签名\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003Edevice\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003EString\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E设备型号\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\u003Cp\u003E\u003Cspan\u003Eps:请注意返回字段中的accessToken、sign、device字段值为base64字符串，其中包含特殊字符，在客户APP与客户后台交互时应避免使用URL拼接字符串的传值方式，会导致特殊字符丢失，最终导致请求闪验后台的置换手机号接口报“请求非法，签名校验不通过”。\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003E一键登录 \u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003Ccode\u003E\u003Cstrong\u003EquickAuthLoginWith:complete:\u003C\u002Fstrong\u003E\u003C\u002Fcode\u003E\u003Cstrong\u003E报错处理\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cbr \u002F\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan\u003EcompleteResult-&gt;_error\u003C\u002Fspan\u003E:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E用户取消登录(授权页点击返回) 【处理建议：若无特殊需求可不做处理】\u003C\u002Fli\u003E\u003Cli\u003E用户选择其他方式登录(点击授权页自带的其他方式登录): 【处理建议：可根据实际情况跳转其他登录方式 】\u003C\u002Fli\u003E\u003Cli\u003E其他错误 【处理建议：使用闪验通道失败，可根据实际情况跳转其他登录方式 】\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E授权页销毁\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan\u003E注：sdk拉起授权页成功后，只允许点击一次一键登录按钮。\u003C\u002Fspan\u003E\u003Cspan\u003E一键登录按钮\u003C\u002Fspan\u003E\u003Cspan\u003E点击\u003C\u002Fspan\u003E\u003Cspan\u003E一次\u003C\u002Fspan\u003E\u003Cspan\u003E后，只有sdk自带的左上角返回按钮可以交互，效果为强制关闭授权页，其他页面元素均会被禁用，以防止多次点击导致多次回调而出现异常。\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan\u003E\u003Cbr \u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E拉起授权页前 配置授权页面销毁机制属性\u003C\u002Fp\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003E\u002F\u002F 获取默认参数配置\nCLUIConfigure * baseUIConfigure = [CLUIConfigure clDefaultUIConfigure];\nbaseUIConfigure.viewController = self;\n\u002F\u002F 是否需要手动销毁授权页面，默认自动销毁， YES-&gt;手动销毁\nbaseUIConfigure.manualDismiss = @(YES);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Esdk获取token回调后销毁界面\u003C\u002Fp\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003E\u002F\u002F关闭页面\n[CLShanYanSDKManager finishAuthControllerCompletion:^{\n   \u002F\u002F如需关闭后present\u002Fpush新页面，建议在completion回调中执行\n\t\u002F\u002F注：若未拉起授权页，调用此方法，block不会触发\n    \u002F\u002F用户跳转短信验证\n    CustomSmsViewController * smsVc = [[CustomSmsViewController alloc]init];\n    CustomNavigationController * smsNav = [[CustomNavigationController alloc]initWithRootViewController:smsVc];\n    smsVc.navigationItem.title = @&quot;短信验证&quot;;\n    [self presentViewController:smsNav animated:YES completion:nil];\n}];\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"8w7D0\"\u003E4.置换手机号\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-12\"\u003E\u003Cstrong\u003E\u003Cspan style=\"color: #F5222D;\"\u003E注：移动、联通、电信分别有自己的置换手机号url,需要根据相对应的运营商url置换手机号码。详情见下方 \u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Ccode\u003E\u003Cspan class=\"lake-fontsize-12\"\u003E\u003Cstrong\u003E\u003Cspan style=\"color: #F5222D;\"\u003E请求示例代码\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E使用场景\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cbr \u002F\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003ESDK成功返回token后，开发者需自行调用置换手机号接口，此接口需要开发者调用由服务端接入闪验服务端生成的接口，上线前的调试阶段可以直接使用示例代码中的接口\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E请求示例代码\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cbr \u002F\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EObjC\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003E[CLShanYanSDKManager quickAuthLoginWithConfigure:baseUIConfigure openLoginAuthListener:^(CLCompleteResult * _Nonnull completeResult) {\n    [SVProgressHUD hide];\n    if (completeResult.error) {\n        \u002F\u002F拉起授权页失败\n        NSLog(@&quot;openLoginAuthListener:%@&quot;,completeResult.error.userInfo);\n    }else{\n       \u002F\u002F拉起授权页成功\n        NSLog(@&quot;openLoginAuthListener:%@&quot;,completeResult.yy_modelToJSONObject);\n    }\n} oneKeyLoginListener:^(CLCompleteResult * _Nonnull completeResult) {\n    [SVProgressHUD dismiss];\n    if (completeResult.error) {\n      \t...\n    }else{\n      \t\u002F\u002FSDK成功获取到Token\n      \n        NSString * telecom = [completeResult.data valueForKey:@&quot;telecom&quot;];\n        \u002F\u002FurlStr:用户后台对接闪验后台后配置的API，以下为Demo提供的调试API及调用示例，在调试阶段可暂时调用此API，也可用此API验证后台API是否正确配置\n        NSString * urlStr = nil;\n        if ([telecom isEqualToString:@&quot;CMCC&quot;]) {\n          urlStr = [cl_SDK_URL stringByAppendingString:@&quot;open\u002Fflashsdk\u002Fmobile-query-m&quot;];\n        }else if ([telecom isEqualToString:@&quot;CUCC&quot;]) {\n          urlStr = [cl_SDK_URL stringByAppendingString:@&quot;open\u002Fflashsdk\u002Fmobile-query-u&quot;];\n        }else if ([telecom isEqualToString:@&quot;CTCC&quot;]) {\n          urlStr = [cl_SDK_URL stringByAppendingString:@&quot;open\u002Fflashsdk\u002Fmobile-query-t&quot;];\n        }else{\n          \u002F\u002F失败\n          return;\n        }\n\n        if (urlStr) {\n          NSLog(@&quot;tokenParamr:%@&quot;,completeResult.data);\n\n          [NetWorkManager POST_url:urlStr withParameter:completeResult.data complete:^(NSDictionary * _Nonnull responseObject, NSError * _Nonnull error) {\n              if (error) {\n                  NSLog(@&quot;%@&quot;,error);\n              }else{\n                  NSInteger code = [[responseObject valueForKey:@&quot;code&quot;] integerValue];\n                  if (code == 200000) {\n                      NSString * mobileName = responseObject[@&quot;data&quot;][@&quot;mobileName&quot;];\n                      NSString * mobileCode = [mobileName decryptUseDESKey:cl_SDK_APPKEY];\n                      dispatch_async(dispatch_get_main_queue(), ^{\n                          [SVProgressHUD showSuccessWithStatus:[NSString stringWithFormat:@&quot;免密登录成功,手机号：%@&quot;,mobileCode]];\n                      });\n                      NSLog(@&quot;免密登录成功,手机号：%@&quot;,mobileCode);\n                  } else {\n                      dispatch_async(dispatch_get_main_queue(), ^{\n                          [SVProgressHUD showSuccessWithStatus:[NSString stringWithFormat:@&quot;免密登录失败&quot;]];\n                      });\n                      NSLog(@&quot;免密登录失败:%@&quot;,responseObject);\n                  }\n              }\n          }];\n        }\n    }\n}];\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003ESwift\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\u003Cpre data-lang=\"swift\"\u003E\u003Ccode\u003ECLShanYanSDKManager.quickAuthLogin(with: clUIConfigure, openLoginAuthListener: { (completeResult) in\n    ...\n}) { (completeResult) in \n\n    if completeResult.error != nil {\n        ...\n    }else{\n      \u002F\u002FSDK成功获取到Token\n\n        NSLog(&quot;quickAuthLogin Success:%@&quot;,completeResult.data ?? &quot;&quot;)\n\n        \u002F\u002FurlStr:用户后台对接闪验后台后配置的API，以下为Demo提供的调试API及调用示例，在调试阶段可暂时调用此API，也可用此API验证后台API是否正确配置\n        var urlStr : String?\n        let APIString = &quot;https:\u002F\u002Fapi.253.com\u002F&quot;\n\n        if let telecom = completeResult.data?[&quot;telecom&quot;] as! String?{\n            switch telecom {\n            case &quot;CMCC&quot;:\n                urlStr = APIString.appendingFormat(&quot;open\u002Fflashsdk\u002Fmobile-query-m&quot;)\n                break\n            case &quot;CUCC&quot;:\n                urlStr = APIString.appendingFormat(&quot;open\u002Fflashsdk\u002Fmobile-query-u&quot;)\n                break\n            case &quot;CTCC&quot;:\n                urlStr = APIString.appendingFormat(&quot;open\u002Fflashsdk\u002Fmobile-query-t&quot;)\n                break\n            default:\n                break\n            }\n        }\n\n        if let urlStr = urlStr{\n            let dataDict = completeResult.data as! Parameters\n\n            Alamofire.request(urlStr, method:.post, parameters:dataDict, encoding:URLEncoding.default, headers:[:]).responseJSON(completionHandler: { (response) in\n                if response.result.isSuccess {\n                    if let json = response.result.value{\n                        let jsonDict = JSON(json)\n                        if jsonDict[&quot;code&quot;].intValue == 200000{\n                            let mobileName = jsonDict[&quot;data&quot;][&quot;mobileName&quot;].stringValue\n                            let mobileCode = StringDecryptUseDES.decryptUseDESString(mobileName, key: &quot;tDo3Ml2K&quot;)\u002F\u002FappKey\n                            DispatchQueue.main.async(execute: {\n                                SVProgressHUD.showSuccess(withStatus: (&quot;免密登录成功,手机号：\\(mobileCode)&quot;))\n                            })\n                            print((&quot;免密登录成功,手机号：\\(mobileCode)&quot;))\n                            return;\n                        }\n                    }\n                }\n                DispatchQueue.main.async(execute: {\n                    SVProgressHUD.showInfo(withStatus: (&quot;免密登录失败：\\(response.description)&quot;))\n                    print((&quot;免密登录失败：\\(response.description)&quot;))\n                })\n            })\n        }\n    }\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003Etoken置换手机号 \u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003Cstrong\u003E正确返回示例\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cpre data-lang=\"json\"\u003E\u003Ccode\u003E{\n\t&quot;chargeStatus&quot;: 1,\n\t&quot;message&quot;: &quot;成功&quot;,\n\t&quot;data&quot;: {\n\t  &quot;fanqizha&quot;: &quot;1&quot;,\n\t\t&quot;tag&quot;: &quot;&quot;,\n\t\t&quot;tradeNo&quot;: &quot;18112115031414011&quot;,\n\t\t&quot;mobileName&quot;: &quot;OaLj8kkXPwFGp\u002FeRk+3vQQ\\u003d\\u003d&quot;\n\t},\n\t&quot;code&quot;: &quot;200000&quot;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ctable class=\"lake-table\" style=\"width: 716px;\"\u003E\u003Ccolgroup\u003E\u003Ccol width=\"138\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"125\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"452\"\u003E\u003C\u002Fcol\u003E\u003C\u002Fcolgroup\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E字段\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E类型\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan class=\"lake-fontsize-9\" style=\"color: #24292E;\"\u003E含义\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003Ecode\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003Estring\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003E200000成功，其他失败\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan style=\"color: #F5222D;\"\u003EchargeStatus\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan style=\"color: #F5222D;\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan style=\"color: #F5222D;\"\u003E1：收费  0：不收费\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003EtradeNo\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003E交易流水号\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003EmobileName\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003EDES加密的真实手机号，使用CBC模式，PKCS5Padding填充原则。CBC模式对应的iv偏移向量为：byte[] iv = { 1, 2, 3, 4, 5, 6, 7, 8 }，key为appKey\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003Efanqizha\u002Ftag\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd colspan=\"1\" style=\"background-color: #FFFFFF;\"\u003E\u003Cp\u003E\u003Cspan\u003E防羊毛识别标识，此功能需要在后台开通\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003Efanqizha：int 1：白名单 2：黑名单 3：可信任度低 4：未找到\u003C\u002Fp\u003E\u003Cp\u003Etag：标签属性，判断的依据信息，用于黑名单。样例：批量操作\u002F系统环境异常\u002F信用低\u002F小号养号\u002F号码风险模型评分中\u002F可能存在作弊行为 \u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\u003Ch2 id=\"42UPQ\"\u003E5.手动关闭授权页\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cspan\u003E当开发者设置点击一键登录或者自定义控件不自动销毁授权页时，将需要自行调用此方法主动销毁授权页，建议在置换手机号成功后销毁。如在得到回调后未销毁授权页而，使用拉起授权页方法再次拉起授权页，此页面将无法响应任何按键（除了导航栏的返回按钮）。\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan\u003E\u003Cbr \u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003E关闭授权页时机\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E      a.SDK拉起授权页方法 直接回调\u003Cspan style=\"color: #F5222D;\"\u003E失败时\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E      b.置换手机号有返回结果时\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003E当前页面直接销毁\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003E\u002F\u002F方式1\n[self.PresentedViewController dismissViewControllerAnimated:YES completion:nil];\n\n\u002F\u002F方式二\n[CLShanYanSDKManager finishAuthControllerCompletion:^{\n   \u002F\u002F如需关闭后present\u002Fpush新页面，建议在completion回调中执行\n\t\u002F\u002F注：若未拉起授权页，调用此方法，block不会触发\n    \u002F\u002F用户跳转短信验证\n    CustomSmsViewController * smsVc = [[CustomSmsViewController alloc]init];\n    CustomNavigationController * smsNav = [[CustomNavigationController alloc]initWithRootViewController:smsVc];\n    smsVc.navigationItem.title = @&quot;短信验证&quot;;\n    [self presentViewController:smsNav animated:YES completion:nil];\n}];\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003E找到topVC进行dismiss\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003Edispatch_async(dispatch_get_main_queue(), ^{\n    \u002F\u002F建议使用授权页面配置对象传入的viewcontroller 调 dismiss\n    if (self.navigationController.viewControllers.lastObject.navigationController) {\n        [self.navigationController.viewControllers.lastObject dismissViewControllerAnimated:YES completion:nil];\n    } else {\n        UIViewController *topRootViewController = [[UIApplication  sharedApplication] keyWindow].rootViewController;\n        \u002F\u002F 在这里加一个这个样式的循环\n        while (topRootViewController.presentedViewController) {\n            \u002F\u002F 这里固定写法\n            topRootViewController = topRootViewController.presentedViewController;\n        }\n        \u002F\u002F 然后再进行present操作\n        [topRootViewController dismissViewControllerAnimated:YES completion:nil];\n    }\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch1 id=\"AdFlP\"\u003E三.授权界面修改\u003C\u002Fh1\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"vc6Dc\"\u003E设计规范\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\"color: #F5222D;\"\u003E\u003Cimg alt=\"闪验220授权页规范.jpg\" title=\"闪验220授权页规范.jpg\" src=\"https:\u002F\u002Fcdn.nlark.com\u002Fyuque\u002F0\u002F2019\u002Fjpeg\u002F245131\u002F1560741002208-df48e456-c7eb-482e-9797-598010fcdfa5.jpeg#align=left&amp;display=inline&amp;height=1673&amp;name=%E9%97%AA%E9%AA%8C220%E6%8E%88%E6%9D%83%E9%A1%B5%E8%A7%84%E8%8C%83.jpg&amp;originHeight=1673&amp;originWidth=1692&amp;size=754509&amp;status=done&amp;width=1692\" style=\"max-width: 600px; width: 1692px;\" \u002F\u003E开发者不得通过任何技术手段，将授权页面的隐私栏、品牌露出内容隐藏、覆盖，对于接入闪验SDK并上线的应用，我方和运营商会对上线的应用授权页面做审查，如果有出现未按要求设计授权页面，将隐私栏、运营商品牌、授权登录按钮隐去不可见的设计，我方有权将应用的登录功能下线。\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"Rdp5k\"\u003E页面可调整属性\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cspan style=\"color: #F5222D;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E注：授权页基本控件均支持上、下、左、右、宽、高、水平中心、竖直中心布局设置，布局通过布局对象设置，\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: #F5222D;\"\u003E\u003Cstrong\u003E布局定位更加方便快捷，\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: #F5222D;\"\u003E\u003Cstrong\u003E建议使用最新布局对象进行设置。\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003E\u002F\u002F要拉起授权页的vc [必填项] (注：SDK不持有接入方VC)\nUIViewController * viewController;\n\n\u002F**\n *外部手动管理关闭界面\n *BOOL,default is NO\n *eg.@(YES)\n *\u002F\nNSNumber * manualDismiss;\n\n\u002F**授权页-背景图片*\u002F\nUIImage *clBackgroundImg;\n\n\u002F\u002F导航栏\n\u002F**导航栏 是否隐藏 BOOL default is NO, 设置优先级高于clNavigationBackgroundClear eg.@(NO)*\u002F\nNSNumber * clNavigationBarHidden;\n\u002F**导航栏 背景透明 BOOL eg.@(YES)*\u002F\nNSNumber * clNavigationBackgroundClear;\n\u002F**导航栏\b标题*\u002F\nNSAttributedString * clNavigationAttributesTitleText;\n\u002F**导航栏右侧自定义按钮*\u002F\nUIBarButtonItem * clNavigationRightControl;\n\u002F**导航栏左侧自定义按钮*\u002F\nUIBarButtonItem * clNavigationLeftControl;\n\u002F**导航栏左侧返回按钮图片*\u002F\nUIImage   * clNavigationBackBtnImage;\n\u002F**导航栏左侧自定义按钮隐藏设置，默认显示 BOOL eg.@(YES)*\u002F\nNSNumber  * clNavigationBackBtnHidden;\n\u002F**导航栏分割线 是否隐藏 default is NO, BOOL eg.@(YES) *\u002F\nNSNumber * clNavigationBottomLineHidden;\n\u002F**导航栏 文字颜色*\u002F\nUIColor  * clNavigationTintColor;\n\u002F**导航栏 背景色 default is white*\u002F\nUIColor  * clNavigationBarTintColor;\n\u002F**导航栏 背景图片*\u002F\nUIImage  * clNavigationBackgroundImage;\n\u002F**导航栏 配合背景图片设置，用来控制在不同状态下导航栏的显示(横竖屏是否显示) UIBarMetrics eg.@(UIBarMetricsCompact)*\u002F\nNSNumber * clNavigationBarMetrics;\n\u002F**导航栏 导航栏底部分割线（图片）*\u002F\nUIImage  * clNavigationShadowImage;\n\u002F**\n *NavigationBar.barStyle：默认UIBarStyleBlack\n *Info.plist: View controller-based status bar appearance = YES\n *导航栏隐藏时：\n *状态栏黑白由 statusBarStyle 决定：\n *UIStatusBarStyleLightContent：状态栏显示 黑\n *UIStatusBarStyleLightContent：状态栏显示 白\n *导航栏显示时：\n *状态栏黑白由 navigation_barStyle 决定\n *UIBarStyleDefault：状态栏显示 黑\n *UIBarStyleBlack：状态栏显示 白\n *\n *eg. @(UIBarStyleBlack)\n *\u002F\nNSNumber * clNavigationBarStyle;\n\n\u002F\u002FLOGO图片\n\u002F**LOGO图片*\u002F\nUIImage  * clLogoImage;\n\u002F**LOGO圆角 CGFloat eg.@(2.0)*\u002F\nNSNumber * clLogoCornerRadius;\n\u002F**LOGO显隐 BOOL eg.@(NO)*\u002F\nNSNumber * clLogoHiden;\n\n\u002F**手机号显示控件*\u002F\n\u002F**手机号颜色*\u002F\nUIColor  * clPhoneNumberColor;\n\u002F**手机号字体*\u002F\nUIFont   * clPhoneNumberFont;\n\u002F**手机号对齐方式 NSTextAlignment eg.@(NSTextAlignmentCenter)*\u002F\nNSNumber * clPhoneNumberTextAlignment;\n\n\u002F*一键登录按钮 控件\n 注： 一键登录授权按钮 不得隐藏\n **\u002F\n\u002F**按钮文字*\u002F\nNSString   * clLoginBtnText;\n\u002F**按钮文字颜色*\u002F\nUIColor  * clLoginBtnTextColor;\n\u002F**按钮背景颜色*\u002F\nUIColor  * clLoginBtnBgColor;\n\u002F**按钮文字字体*\u002F\nUIFont   * clLoginBtnTextFont;\n\u002F**按钮背景图片*\u002F\nUIImage  * clLoginBtnNormalBgImage;\n\u002F**按钮边框颜色*\u002F\nUIColor  * clLoginBtnBorderColor;\n\u002F**按钮偏圆角 CGFloat eg.@(5)*\u002F\nNSNumber * clLoginBtnCornerRadius;\n\u002F**按钮偏边框 CGFloat eg.@(2.0)*\u002F\nNSNumber * clLoginBtnBorderWidth;\n\n\u002F*隐私条款Privacy\n 注： 运营商隐私条款 不得隐藏\n 用户条款不限制\n **\u002F\n\u002F**隐私条款名称颜色：@[基础文字颜色UIColor*,条款颜色UIColor*] eg.@[[UIColor lightGrayColor],[UIColor greenColor]]*\u002F\nNSArray&lt;UIColor*&gt; *clAppPrivacyColor;\n\u002F**隐私条款文字字体*\u002F\nUIFont  * clAppPrivacyTextFont;\n\u002F**隐私条款--APP名称简写 默认取CFBundledisplayname*\u002F\nNSString  * clAppPrivacyAbbreviatedName;\n\u002F**隐私条款文字对齐方式 NSTextAlignment eg.@(NSTextAlignmentCenter)*\u002F\nNSNumber * clAppPrivacyTextAlignment;\n\u002F**运营商隐私条款书名号 默认NO 不显示 BOOL eg.@(YES)*\u002F\nNSNumber * clAppPrivacyPunctuationMarks;\n\u002F**隐私条款一:需同时设置Name和UrlString eg.@[@&quot;条款一名称&quot;:@&quot;条款一URL&quot;]*\u002F\nNSArray&lt;NSString*&gt; * clAppPrivacyFirst;\n\u002F**隐私条款二:需同时设置Name和UrlString eg.@[@&quot;条款一名称&quot;:@&quot;条款一URL&quot;]*\u002F\nNSArray&lt;NSString*&gt; * clAppPrivacySecond;\n\u002F**隐私协议WEB页面导航栏\b标题 NSAttributedString*\u002F\nNSAttributedString * clAppPrivacyWebAttributesTitle;\n\u002F**隐私协议WEB页面导航返回按钮图片*\u002F\nUIImage * clAppPrivacyWebBackBtnImage;\n\u002F**多行时行距 CGFloat eg.@(2.0)*\u002F\nNSNumber* clAppPrivacyLineSpacing;\n\u002F**是否需要sizeToFit,设置后与宽高约束的冲突请自行考虑 BOOL eg.@(YES)*\u002F\nNSNumber* clAppPrivacyNeedSizeToFit;\n\n\u002F*SLOGAN\n 注： 运营商品牌标签，不得隐藏\n **\u002F\n\u002F**slogan文字字体*\u002F\nUIFont   * clSloganTextFont;\n\u002F**slogan文字颜色*\u002F\nUIColor  * clSloganTextColor;\n\u002F**slogan文字对齐方式 NSTextAlignment eg.@(NSTextAlignmentCenter)*\u002F\nNSNumber * clSlogaTextAlignment;\n\n\u002F*CheckBox\n *协议勾选框，默认选中且在协议前显示\n *可在sdk_oauth.bundle中替换checkBox_unSelected、checkBox_selected图片\n *也可以通过属性设置选中和未选择图片\n **\u002F\n\u002F**协议勾选框（默认显示,放置在协议之前）BOOL eg.@(YES)*\u002F\nNSNumber *clCheckBoxHidden;\n\u002F**协议勾选框默认值（默认不选中）BOOL eg.@(YES)*\u002F\nNSNumber *clCheckBoxValue;\n\u002F**协议勾选框 尺寸 CGSize eg.[NSValue valueWithCGSize:CGSizeMake(25, 25)]*\u002F\nNSValue *clCheckBoxSize;\n\u002F**协议勾选框 UIButton.image图片缩进 UIEdgeInset eg.[NSValue valueWithUIEdgeInsets:UIEdgeInsetsMake(2, 2, 2, 2)]*\u002F\nNSValue *clCheckBoxImageEdgeInsets;\n\u002F**协议勾选框 设置CheckBox顶部与隐私协议控件顶部对齐 YES或大于0生效 eg.@(YES)*\u002F\nNSNumber *clCheckBoxVerticalAlignmentToAppPrivacyTop;\n\u002F**协议勾选框 设置CheckBox顶部与隐私协议控件竖向中心对齐 YES或大于0生效 eg.@(YES)*\u002F\nNSNumber *clCheckBoxVerticalAlignmentToAppPrivacyCenterY;\n\u002F**协议勾选框 非选中状态图片*\u002F\nUIImage  *clCheckBoxUncheckedImage;\n\u002F**协议勾选框 选中状态图片*\u002F\nUIImage  *clCheckBoxCheckedImage;\n\n\u002F*Loading*\u002F\n\u002F**Loading 大小 CGSize eg.[NSValue valueWithCGSize:CGSizeMake(50, 50)]*\u002F\nNSValue *clLoadingSize;\n\u002F**Loading 圆角 float eg.@(5) *\u002F\nNSNumber *clLoadingCornerRadius;\n\u002F**Loading 背景色 UIColor eg.[UIColor colorWithRed:0.8 green:0.5 blue:0.8 alpha:0.8]; *\u002F\nUIColor *clLoadingBackgroundColor;\n\u002F**UIActivityIndicatorViewStyle eg.@(UIActivityIndicatorViewStyleWhiteLarge)*\u002F\nNSNumber *clLoadingIndicatorStyle;\n\u002F**Loading Indicator渲染色 UIColor eg.[UIColor greenColor]; *\u002F\nUIColor *clLoadingTintColor;\n\u002F**授权页自定义Loading\n - containerView为loading的全屏蒙版view\n - 请自行在containerView添加自定义loading\n - 设置block后，上述loading属性将无效\n *\u002F\nvoid(^loadingView)(UIView * containerView);\n\n\u002F\u002F添加自定义控件\n\u002F**可设置背景色及添加控件*\u002F\nvoid(^customAreaView)(UIView * customAreaView);\n\n\u002F\u002F竖屏布局配置对象 --&gt;创建一个布局对象，设置好控件约束属性值，再设置到此属性中\n\u002F**竖屏：UIInterfaceOrientationPortrait|UIInterfaceOrientationPortraitUpsideDown\n *由于运营商限制不同，外部自动旋转条件满足时，电信联通页面自动旋转，均使用此约束；移动强制竖屏\n *eg.   CLUIConfigure * baseUIConfigure = [CLUIConfigure new];\n *      CLOrientationLayOut * clOrientationLayOutPortrait = [CLOrientationLayOut new];\n *      clOrientationLayOutPortrait.clLayoutPhoneCenterY = @(0);\n *      clOrientationLayOutPortrait.clLayoutPhoneLeft = @(50*screenScale);\n *      ...\n *      baseUIConfigure.clOrientationLayOutPortrait = clOrientationLayOutPortrait;\n *\u002F\n@property (nonatomic,strong) CLOrientationLayOut * clOrientationLayOutPortrait;\n\n\n\n\u002F*CLOrientationLayOut:\n *横竖屏布局配置对象\n *配置页面布局相关属性\n *\u002F\n\u002F**LOGO图片*\u002F\n\u002F\u002F 约束均相对vc.view\nNSNumber * clLayoutLogoLeft;\nNSNumber * clLayoutLogoTop;\nNSNumber * clLayoutLogoRight;\nNSNumber * clLayoutLogoBottom;\nNSNumber * clLayoutLogoWidth;\nNSNumber * clLayoutLogoHeight;\nNSNumber * clLayoutLogoCenterX;\nNSNumber * clLayoutLogoCenterY;\n\n\u002F**手机号显示控件*\u002F\n\u002F\u002Flayout 约束均相对vc.view\nNSNumber * clLayoutPhoneLeft;\nNSNumber * clLayoutPhoneTop;\nNSNumber * clLayoutPhoneRight;\nNSNumber * clLayoutPhoneBottom;\nNSNumber * clLayoutPhoneWidth;\nNSNumber * clLayoutPhoneHeight;\nNSNumber * clLayoutPhoneCenterX;\nNSNumber * clLayoutPhoneCenterY;\n\n\u002F*一键登录按钮 控件\n 注： 一键登录授权按钮 不得隐藏\n **\u002F\n\u002F\u002Flayout 约束均相对vc.view\nNSNumber * clLayoutLoginBtnLeft;\nNSNumber * clLayoutLoginBtnTop;\nNSNumber * clLayoutLoginBtnRight;\nNSNumber * clLayoutLoginBtnBottom;\nNSNumber * clLayoutLoginBtnWidth;\nNSNumber * clLayoutLoginBtnHeight;\nNSNumber * clLayoutLoginBtnCenterX;\nNSNumber * clLayoutLoginBtnCenterY;\n\n\u002F*隐私条款Privacy\n 注： 运营商隐私条款 不得隐藏， 用户条款不限制\n **\u002F\n\u002F\u002Flayout 约束均相对vc.view\nNSNumber * clLayoutAppPrivacyLeft;\nNSNumber * clLayoutAppPrivacyTop;\nNSNumber * clLayoutAppPrivacyRight;\nNSNumber * clLayoutAppPrivacyBottom;\nNSNumber * clLayoutAppPrivacyWidth;\nNSNumber * clLayoutAppPrivacyHeight;\nNSNumber * clLayoutAppPrivacyCenterX;\nNSNumber * clLayoutAppPrivacyCenterY;\n\n\u002F*Slogan 运营商品牌标签：&quot;认证服务由中国移动\u002F联通\u002F电信提供&quot; label\n 注： 运营商品牌标签，不得隐藏\n **\u002F\n\u002F\u002Flayout 约束均相对vc.view\nNSNumber * clLayoutSloganLeft;\nNSNumber * clLayoutSloganTop;\nNSNumber * clLayoutSloganRight;\nNSNumber * clLayoutSloganBottom;\nNSNumber * clLayoutSloganWidth;\nNSNumber * clLayoutSloganHeight;\nNSNumber * clLayoutSloganCenterX;\nNSNumber * clLayoutSloganCenterY;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch2 id=\"rBXZq\"\u003E添加自定义控件示例\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EObjC：\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cpre data-lang=\"objectivec\"\u003E\u003Ccode\u003E\u002F\u002F 快捷登录\n- (void)quickLoginBtnClick:(UIButton *)sender {\n    ...    \n\n    CLUIConfigure * baseUIConfigure = [CLUIConfigure new];\n    baseUIConfigure.viewController = self;\n    CGFloat screenScale = [UIScreen mainScreen].bounds.size.width\u002F375.0;\n    baseUIConfigure.customAreaView = ^(UIView * _Nonnull customAreaView) {\n\n        UIButton * button = [[UIButton alloc]init];\n        [button setTitle:@&quot;其他方式登录&quot; forState:(UIControlStateNormal)];\n        button.titleLabel.font = [UIFont systemFontOfSize:14];\n        [button setTitleColor:[UIColor grayColor] forState:(UIControlStateNormal)];\n        [button addTarget:self action:@selector(otherLoginWayBtnCliced:) forControlEvents:(UIControlEventTouchUpInside)];\n        [customAreaView addSubview:button];\n\n        [button mas_makeConstraints:^(MASConstraintMaker *make) {\n            make.left.right.mas_equalTo(0);\n            make.top.mas_equalTo(280*screenScale);\n            make.height.mas_equalTo(40);\n        }];\n    };  \n    ...\n}\n\u002F\u002F授权页 点击自定义控件绑定的方法\n-(void)otherLoginWayBtnCliced:(UIButton *)sender{\n\n\t\u002F\u002F关闭页面\n    [CLShanYanSDKManager finishAuthControllerCompletion:^{\n       \u002F\u002F如需关闭后present\u002Fpush新页面，建议在completion回调中执行 \n    }];\n    [SVProgressHUD showInfoWithStatus:@&quot;用户使用其他方式进行注册登录&quot;];\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003ESwift\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cpre data-lang=\"swift\"\u003E\u003Ccode\u003E@IBAction func quickLogin(_ sender: UIButton) {\n      ...\n\n      let baseUIConfigure = CLUIConfigure()\n      \u002F\u002Frequried\n      baseUIConfigure.viewController = self\n      \u002F\u002FOptional:\n      let screenScale = UIScreen.main.bounds.size.width\u002F375.0;\n      baseUIConfigure.customAreaView = {\n          [unowned self] view in\n          let otherLoginButtonWay = UIButton()\n          otherLoginButtonWay.setTitle(&quot;其他方式登录&quot;, for: .normal)\n          otherLoginButtonWay.setTitleColor(UIColor.gray, for: .normal)\n          otherLoginButtonWay.titleLabel?.font = UIFont.systemFont(ofSize: 15)\n          view.addSubview(otherLoginButtonWay)\n          otherLoginButtonWay.snp.makeConstraints { (make) in\n              make.centerX.equalToSuperview()\n              make.top.equalTo(280*screenScale)\n              make.width.equalToSuperview()\n              make.height.equalTo(40)\n          }\n          otherLoginButtonWay.addTarget(self, action: #selector(self.otherLoginButtonWay(_:)), for: .touchUpInside)\n      }\n      ...\n  }\n\n\u002F\u002F授权页 点击其他方式登录\n@objc func otherLoginButtonWay(_ sender: UIButton) {\n    DispatchQueue.main.async(execute: {\n        SVProgressHUD.showSuccess(withStatus: (&quot;用户选择其他方式登录&quot;))\n    })\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Ch1 id=\"HfbAi\"\u003E四.返回码对照\u003C\u002Fh1\u003E\u003Ch2 id=\"EjJbX\"\u003E外层错误码\u003C\u002Fh2\u003E\u003Cp\u003E同一外层码可能对应不同的内层码\u003C\u002Fp\u003E\u003Ctable class=\"lake-table\" style=\"width: 723px;\"\u003E\u003Ccolgroup\u003E\u003Ccol width=\"361\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"361\"\u003E\u003C\u002Fcol\u003E\u003C\u002Fcolgroup\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E外层返回码\u003C\u002Ftd\u003E\u003Ctd\u003E返回码描述\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E1000\u003C\u002Ftd\u003E\u003Ctd\u003E一键登录成功，解析result，可得到网络请求参数\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E1011\u003C\u002Ftd\u003E\u003Ctd\u003E用户取消免密登录（点击返回按钮）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E1001\u003C\u002Ftd\u003E\u003Ctd\u003ESDK初始化失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E1023\u003C\u002Ftd\u003E\u003Ctd\u003E预取号\u002F取号失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E1003\u003C\u002Ftd\u003E\u003Ctd\u003E拉起授权页失败\u002F一键登录失败\u002F获取token失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E1008\u003C\u002Ftd\u003E\u003Ctd\u003E未开启移动网络\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E1009\u003C\u002Ftd\u003E\u003Ctd\u003E未检测\u002F识别到sim卡\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E其他\u003C\u002Ftd\u003E\u003Ctd\u003E其他错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\u003Ch2 id=\"jXvLy\"\u003E内层错误码\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E联通返回码\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Ctable class=\"lake-table\" style=\"width: 697px;\"\u003E\u003Ccolgroup\u003E\u003Ccol width=\"158\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"225\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"312\"\u003E\u003C\u002Fcol\u003E\u003C\u002Fcolgroup\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E状态码\u003C\u002Ftd\u003E\u003Ctd\u003E信息（msg）\u003C\u002Ftd\u003E\u003Ctd\u003E示例说明\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E100\u003C\u002Ftd\u003E\u003Ctd\u003E成功\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E101\u003C\u002Ftd\u003E\u003Ctd\u003E鉴权失败\u003C\u002Ftd\u003E\u003Ctd\u003E公钥或者apiKey不正确\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103\u003C\u002Ftd\u003E\u003Ctd\u003E成功（无数据返回）\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E104\u003C\u002Ftd\u003E\u003Ctd\u003E系统繁忙\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E100000\u003C\u002Ftd\u003E\u003Ctd\u003E通用，未明确定义的其他错误\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E100001\u003C\u002Ftd\u003E\u003Ctd\u003E网络出错\u003C\u002Ftd\u003E\u003Ctd\u003EapiKey配置错误或者404错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E100002\u003C\u002Ftd\u003E\u003Ctd\u003E参数错误\u003C\u002Ftd\u003E\u003Ctd\u003E服务未初始化\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E100003\u003C\u002Ftd\u003E\u003Ctd\u003E数据格式错误\u003C\u002Ftd\u003E\u003Ctd\u003E服务器返回结果在客户端解析出错\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E100004\u003C\u002Ftd\u003E\u003Ctd\u003E无结果\u003C\u002Ftd\u003E\u003Ctd\u003E服务器返回null\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E100005\u003C\u002Ftd\u003E\u003Ctd\u003E数据不匹配\u003C\u002Ftd\u003E\u003Ctd\u003E短信上行的认证结果与填入的不匹配计为认证失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E100006\u003C\u002Ftd\u003E\u003Ctd\u003E包名不匹配\u003C\u002Ftd\u003E\u003Ctd\u003E服务器返回的结果非本app计为失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E100007\u003C\u002Ftd\u003E\u003Ctd\u003Eapikey为空\u003C\u002Ftd\u003E\u003Ctd\u003E应用未填入apiKey密钥\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E100008\u003C\u002Ftd\u003E\u003Ctd\u003E超时\u003C\u002Ftd\u003E\u003Ctd\u003E取号或认证时间超过超时时间\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E100009\u003C\u002Ftd\u003E\u003Ctd\u003E取消\u003C\u002Ftd\u003E\u003Ctd\u003E用户取消操作，计为失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E100012\u003C\u002Ftd\u003E\u003Ctd\u003E无公钥\u003C\u002Ftd\u003E\u003Ctd\u003E应用未填入公钥\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E100016\u003C\u002Ftd\u003E\u003Ctd\u003E公钥出错\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E2001\u003C\u002Ftd\u003E\u003Ctd\u003E取号\u002F认证失败\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E5001\u003C\u002Ftd\u003E\u003Ctd\u003E序列号不存在\u003C\u002Ftd\u003E\u003Ctd\u003Eseq过期或已使用（seq只能使用一次）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E6001\u003C\u002Ftd\u003E\u003Ctd\u003E参数出错\u003C\u002Ftd\u003E\u003Ctd\u003E配置信息填写错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E6002\u003C\u002Ftd\u003E\u003Ctd\u003E应用信息错误\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E6003\u003C\u002Ftd\u003E\u003Ctd\u003ESDK信息错误\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E6005\u003C\u002Ftd\u003E\u003Ctd\u003E接入信息错误\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E6006\u003C\u002Ftd\u003E\u003Ctd\u003E获取接入信息流控类型错误\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E6008\u003C\u002Ftd\u003E\u003Ctd\u003E流控超限\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E6009\u003C\u002Ftd\u003E\u003Ctd\u003E设备信息未注册\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E6010\u003C\u002Ftd\u003E\u003Ctd\u003E应用秘钥信息不匹配\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E7004\u003C\u002Ftd\u003E\u003Ctd\u003E公司或应用ID信息出错\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E8001\u003C\u002Ftd\u003E\u003Ctd\u003E无支付权限\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E8002\u003C\u002Ftd\u003E\u003Ctd\u003E余额不足\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\u003Cp\u003E\u003Cstrong\u003E电信返回码\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Ctable class=\"lake-table\" style=\"width: 686px;\"\u003E\u003Ccolgroup\u003E\u003Ccol width=\"270\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"415\"\u003E\u003C\u002Fcol\u003E\u003C\u002Fcolgroup\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E返回码\u003C\u002Ftd\u003E\u003Ctd\u003E返回码描述\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E0\u003C\u002Ftd\u003E\u003Ctd\u003E请求成功\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-64\u003C\u002Ftd\u003E\u003Ctd\u003Epermission-denied(无权限访问)\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-65\u003C\u002Ftd\u003E\u003Ctd\u003EAPI-request-rates-Exceed-Limitations(调用接口超限)\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-10001\u003C\u002Ftd\u003E\u003Ctd\u003E取号失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-10002\u003C\u002Ftd\u003E\u003Ctd\u003E参数错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-10003\u003C\u002Ftd\u003E\u003Ctd\u003E解密失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-10004\u003C\u002Ftd\u003E\u003Ctd\u003Eip受限\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-10005\u003C\u002Ftd\u003E\u003Ctd\u003E异网取号回调参数异常\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-10006\u003C\u002Ftd\u003E\u003Ctd\u003EMdn取号失败，且属于电信网络\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-10007\u003C\u002Ftd\u003E\u003Ctd\u003E重定向到异网取号\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-10008\u003C\u002Ftd\u003E\u003Ctd\u003E超过预设取号阈值\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-10009\u003C\u002Ftd\u003E\u003Ctd\u003E时间戳过期\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-20005\u003C\u002Ftd\u003E\u003Ctd\u003Esign-invalid(签名错误）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-7999\u003C\u002Ftd\u003E\u003Ctd\u003E服务不可用（其他错误，默认返回值）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-8000\u003C\u002Ftd\u003E\u003Ctd\u003EresponseCode非200（网络错误，http状态码错误）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-8001\u003C\u002Ftd\u003E\u003Ctd\u003E请求网络异常\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-8100\u003C\u002Ftd\u003E\u003Ctd\u003E无网络连接（网络错误）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-8101\u003C\u002Ftd\u003E\u003Ctd\u003E获取失败（切换失败）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-9999\u003C\u002Ftd\u003E\u003Ctd\u003E网络故障(networkauth-fail)\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-30003\u003C\u002Ftd\u003E\u003Ctd\u003EtopClass-invalid\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E-8003\u003C\u002Ftd\u003E\u003Ctd\u003E请求超时\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\u003Cp\u003E\u003Cstrong\u003E移动返回码\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Ctable class=\"lake-table\" style=\"width: 687px;\"\u003E\u003Ccolgroup\u003E\u003Ccol width=\"272\"\u003E\u003C\u002Fcol\u003E\u003Ccol width=\"414\"\u003E\u003C\u002Fcol\u003E\u003C\u002Fcolgroup\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E返回码\u003C\u002Ftd\u003E\u003Ctd\u003E返回码描述\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E103000\u003C\u002Ftd\u003E\u003Ctd\u003E成功\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E102101\u003C\u002Ftd\u003E\u003Ctd\u003E无网络\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E102102\u003C\u002Ftd\u003E\u003Ctd\u003E网络异常\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E102103\u003C\u002Ftd\u003E\u003Ctd\u003E未开启数据网络\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E102121\u003C\u002Ftd\u003E\u003Ctd\u003E用户取消登录\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E102203\u003C\u002Ftd\u003E\u003Ctd\u003E输入参数错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E102223\u003C\u002Ftd\u003E\u003Ctd\u003E数据解析异常\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E102507\u003C\u002Ftd\u003E\u003Ctd\u003E请求超时\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E102508\u003C\u002Ftd\u003E\u003Ctd\u003E数据网络切换失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200002\u003C\u002Ftd\u003E\u003Ctd\u003E手机未安装sim卡\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200005\u003C\u002Ftd\u003E\u003Ctd\u003E用户未授权（READ_PHONE_STATE）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200006\u003C\u002Ftd\u003E\u003Ctd\u003E用户未授权（SEND_SMS）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200007\u003C\u002Ftd\u003E\u003Ctd\u003EauthType仅使用短信验证码认证\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200008\u003C\u002Ftd\u003E\u003Ctd\u003E1. authType参数为空；2. authType参数不合法；\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200009\u003C\u002Ftd\u003E\u003Ctd\u003E应用合法性校验失败（包名包签名未填写正确）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200010\u003C\u002Ftd\u003E\u003Ctd\u003E预取号时imsi获取失败或者没有sim卡\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200012\u003C\u002Ftd\u003E\u003Ctd\u003E取号失败，跳短信验证码登录\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200013\u003C\u002Ftd\u003E\u003Ctd\u003E短信上行发送短信失败（短信上行）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200014\u003C\u002Ftd\u003E\u003Ctd\u003E手机号码格式错误（短验）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200015\u003C\u002Ftd\u003E\u003Ctd\u003E短信验证码格式错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200016\u003C\u002Ftd\u003E\u003Ctd\u003E更新KS失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200017\u003C\u002Ftd\u003E\u003Ctd\u003E非移动卡不支持短信上行\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200018\u003C\u002Ftd\u003E\u003Ctd\u003E不支持网关登录\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200019\u003C\u002Ftd\u003E\u003Ctd\u003E不支持短信验证码登录\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200020\u003C\u002Ftd\u003E\u003Ctd\u003E用户取消登录\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200021\u003C\u002Ftd\u003E\u003Ctd\u003E数据解析异常（服务器异常可重新尝试）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200022\u003C\u002Ftd\u003E\u003Ctd\u003E无网络状态\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200023\u003C\u002Ftd\u003E\u003Ctd\u003E请求超时\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200024\u003C\u002Ftd\u003E\u003Ctd\u003E数据网络切换失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200025\u003C\u002Ftd\u003E\u003Ctd\u003E未知错误一般出现在线程捕获异常，请配合异常打印分析\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200026\u003C\u002Ftd\u003E\u003Ctd\u003E输入参数错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200027\u003C\u002Ftd\u003E\u003Ctd\u003E预取号时未开启数据流量\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200028\u003C\u002Ftd\u003E\u003Ctd\u003E网络请求出错（根据日志分析）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200029\u003C\u002Ftd\u003E\u003Ctd\u003E请求出错,上次请求未完成\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200030\u003C\u002Ftd\u003E\u003Ctd\u003E没有初始化参数\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200031\u003C\u002Ftd\u003E\u003Ctd\u003E生成token失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200032\u003C\u002Ftd\u003E\u003Ctd\u003EKS缓存不存在\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200033\u003C\u002Ftd\u003E\u003Ctd\u003E复用中间件获取Token失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200034\u003C\u002Ftd\u003E\u003Ctd\u003E预取号token失效\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200035\u003C\u002Ftd\u003E\u003Ctd\u003E协商ks失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200036\u003C\u002Ftd\u003E\u003Ctd\u003E预取号失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200037\u003C\u002Ftd\u003E\u003Ctd\u003E获取不到openid\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200038\u003C\u002Ftd\u003E\u003Ctd\u003E电信重定向失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200039\u003C\u002Ftd\u003E\u003Ctd\u003E电信取号接口返回失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200040\u003C\u002Ftd\u003E\u003Ctd\u003EUI资源加载异常\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200042\u003C\u002Ftd\u003E\u003Ctd\u003E授权页弹出异常\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200060\u003C\u002Ftd\u003E\u003Ctd\u003E用户点击“切换账号”且使用应用自己的短信验证码时返回\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200062\u003C\u002Ftd\u003E\u003Ctd\u003E联通号码不支持预取号\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E200063\u003C\u002Ftd\u003E\u003Ctd\u003E电信号码不支持预取号\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E获取手机号码接口返回码\u003C\u002Ftd\u003E\u003Ctd\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E返回码\u003C\u002Ftd\u003E\u003Ctd\u003E返回码描述\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103000\u003C\u002Ftd\u003E\u003Ctd\u003E返回成功\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103101\u003C\u002Ftd\u003E\u003Ctd\u003E签名错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103102\u003C\u002Ftd\u003E\u003Ctd\u003E包名\u002F包签名\u002Fbundle id错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103106\u003C\u002Ftd\u003E\u003Ctd\u003E输入手机号不合法（短验）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103107\u003C\u002Ftd\u003E\u003Ctd\u003E已存在相同的随机数（短验）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103108\u003C\u002Ftd\u003E\u003Ctd\u003E短信验证码错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103109\u003C\u002Ftd\u003E\u003Ctd\u003E短信验证码超时\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103111\u003C\u002Ftd\u003E\u003Ctd\u003Ewap网关IP错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103112\u003C\u002Ftd\u003E\u003Ctd\u003E错误的请求\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103113\u003C\u002Ftd\u003E\u003Ctd\u003Etoken校验错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103119\u003C\u002Ftd\u003E\u003Ctd\u003Eappid不合法\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103122\u003C\u002Ftd\u003E\u003Ctd\u003Ebtid不存在\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103125\u003C\u002Ftd\u003E\u003Ctd\u003E手机号格式错误（短验）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103127\u003C\u002Ftd\u003E\u003Ctd\u003E证书验证：版本过期\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103133\u003C\u002Ftd\u003E\u003Ctd\u003Esourceid不合法\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103138\u003C\u002Ftd\u003E\u003Ctd\u003Eappid已存在\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103139\u003C\u002Ftd\u003E\u003Ctd\u003Esourceid已存在\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103202\u003C\u002Ftd\u003E\u003Ctd\u003E缓存用户不存在或者验证短信输入失败次数过多\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103203\u003C\u002Ftd\u003E\u003Ctd\u003E缓存用户不存在（短信上行）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103204\u003C\u002Ftd\u003E\u003Ctd\u003E缓存随机数不存\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103205\u003C\u002Ftd\u003E\u003Ctd\u003E服务器异常\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103207\u003C\u002Ftd\u003E\u003Ctd\u003E发送短信失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103211\u003C\u002Ftd\u003E\u003Ctd\u003E其他错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103214\u003C\u002Ftd\u003E\u003Ctd\u003E访问缓存或数据库错误\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103401\u003C\u002Ftd\u003E\u003Ctd\u003E消息签名为空\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103404\u003C\u002Ftd\u003E\u003Ctd\u003E加密失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103408\u003C\u002Ftd\u003E\u003Ctd\u003E此sourceId注册已达上限99次\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103409\u003C\u002Ftd\u003E\u003Ctd\u003Equery参数为空\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103412\u003C\u002Ftd\u003E\u003Ctd\u003E无效的请求\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103414\u003C\u002Ftd\u003E\u003Ctd\u003E参数效验异常\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103505\u003C\u002Ftd\u003E\u003Ctd\u003E重放攻击\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103511\u003C\u002Ftd\u003E\u003Ctd\u003E源IP不合法\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103810\u003C\u002Ftd\u003E\u003Ctd\u003Etoken校验失败，接口版本不一致\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103811\u003C\u002Ftd\u003E\u003Ctd\u003Etoken为空\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103901\u003C\u002Ftd\u003E\u003Ctd\u003E短信验证码下发次数已达上限 (一分钟内最多5次,一天最多10次)\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103902\u003C\u002Ftd\u003E\u003Ctd\u003E临时取号凭证scrip校验失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103911\u003C\u002Ftd\u003E\u003Ctd\u003E请求过于频繁（短信校验）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E103922\u003C\u002Ftd\u003E\u003Ctd\u003E自动升级文件没找到\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E104201\u003C\u002Ftd\u003E\u003Ctd\u003Etoken已经被校验过或者超时失效\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E104202\u003C\u002Ftd\u003E\u003Ctd\u003E短信验证失败过多\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105001\u003C\u002Ftd\u003E\u003Ctd\u003E联通网关取号失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105002\u003C\u002Ftd\u003E\u003Ctd\u003E移动网关取号失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105003\u003C\u002Ftd\u003E\u003Ctd\u003E电信网关取号失败\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105005\u003C\u002Ftd\u003E\u003Ctd\u003E短信上行发送信息为空\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105007\u003C\u002Ftd\u003E\u003Ctd\u003E手机号码格式错误（短信上行）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105008\u003C\u002Ftd\u003E\u003Ctd\u003E短信内容为空（短信上行）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105010\u003C\u002Ftd\u003E\u003Ctd\u003Escript失效或者非法\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105011\u003C\u002Ftd\u003E\u003Ctd\u003E参数加密的私钥失效或者非法\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105012\u003C\u002Ftd\u003E\u003Ctd\u003E不支持电信取号\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105013\u003C\u002Ftd\u003E\u003Ctd\u003E不支持联通取号\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105018\u003C\u002Ftd\u003E\u003Ctd\u003E用户权限不够\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105019\u003C\u002Ftd\u003E\u003Ctd\u003E应用未授权（未勾选能力）\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E105302\u003C\u002Ftd\u003E\u003Ctd\u003EAppId不在白名单\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\u003Ch1 id=\"X6dq5\"\u003E五.已知问题\u003C\u002Fh1\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-14\" style=\"color: #F5222D;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E更多问题查询请移步至\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Ca href=\"http:\u002F\u002Fflash.253.com\u002Fdocument\u002Fdetails?lid=297&amp;cid=92&amp;pc=28&amp;pn=%25E9%2597%25AA%25E9%25AA%258CSDK\" target=\"_blank\"\u003E\u003Cspan class=\"lake-fontsize-14\"\u003E\u003Cstrong\u003E【常见问题】\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-11\"\u003E\u003Cstrong\u003E1.ATS开关(Http与Https)\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-11\"\u003E目前运营商个别接口为http请求，对于全局禁用Http的项目，需要设置Http白名单。以下为运营商http接口host名单：\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E*.\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003Ecmpassport.com、id6.me、\u003C\u002Fspan\u003E\u003Cspan style=\"color: #000000;\"\u003E123.125.99.8:9001\u003C\u002Fspan\u003E\u003Cspan style=\"color: #000000;\"\u003E、\u003Cspan\u003Ems.zzx9.cn\u003C\u002Fspan\u003E、\u003Cspan\u003Emdn.open.wo.cn\u003C\u002Fspan\u003E、\u003Cspan\u003E10.99.255.231\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E，*为通配符，建议按以下方式配置Info.plist\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cpre data-lang=\"jsx\"\u003E\u003Ccode\u003E&lt;key&gt;NSAppTransportSecurity&lt;\u002Fkey&gt;\n\t&lt;dict&gt;\n\t\t&lt;key&gt;NSExceptionDomains&lt;\u002Fkey&gt;\n\t\t&lt;dict&gt;\n\t\t\t&lt;key&gt;zzx9.cn&lt;\u002Fkey&gt;\n\t\t\t&lt;dict&gt;\n\t\t\t\t&lt;key&gt;NSIncludesSubdomains&lt;\u002Fkey&gt;\n\t\t\t\t&lt;true\u002F&gt;\n\t\t\t\t&lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;\u002Fkey&gt;\n\t\t\t\t&lt;true\u002F&gt;\n\t\t\t&lt;\u002Fdict&gt;\n\t\t\t&lt;key&gt;cmpassport.com&lt;\u002Fkey&gt;\n\t\t\t&lt;dict&gt;\n\t\t\t\t&lt;key&gt;NSIncludesSubdomains&lt;\u002Fkey&gt;\n\t\t\t\t&lt;true\u002F&gt;\n\t\t\t\t&lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;\u002Fkey&gt;\n\t\t\t\t&lt;true\u002F&gt;\n\t\t\t&lt;\u002Fdict&gt;\n\t\t\t&lt;key&gt;id6.me&lt;\u002Fkey&gt;\n\t\t\t&lt;dict&gt;\n\t\t\t\t&lt;key&gt;NSIncludesSubdomains&lt;\u002Fkey&gt;\n\t\t\t\t&lt;true\u002F&gt;\n\t\t\t\t&lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;\u002Fkey&gt;\n\t\t\t\t&lt;true\u002F&gt;\n\t\t\t&lt;\u002Fdict&gt;\n\t\t\t&lt;key&gt;wostore.cn&lt;\u002Fkey&gt;\n\t\t\t&lt;dict&gt;\n\t\t\t\t&lt;key&gt;NSIncludesSubdomains&lt;\u002Fkey&gt;\n\t\t\t\t&lt;true\u002F&gt;\n\t\t\t\t&lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;\u002Fkey&gt;\n\t\t\t\t&lt;true\u002F&gt;\n\t\t\t&lt;\u002Fdict&gt;\n\t\t\t&lt;key&gt;mdn.open.wo.cn&lt;\u002Fkey&gt;\n\t\t\t&lt;dict&gt;\n\t\t\t\t&lt;key&gt;NSIncludesSubdomains&lt;\u002Fkey&gt;\n\t\t\t\t&lt;true\u002F&gt;\n\t\t\t\t&lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;\u002Fkey&gt;\n\t\t\t\t&lt;true\u002F&gt;\n\t\t\t&lt;\u002Fdict&gt;\n\t\t&lt;\u002Fdict&gt;\n\t&lt;\u002Fdict&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E2.移动报 \u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E获取移动\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E\u003Cstrong\u003Etoken\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E失败\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E Code=1003 \u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E“(\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E\u003Cstrong\u003Enull\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E)”\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E UserInfo={desc=\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E\u003Cstrong\u003E\u003Cspan\u003E错误的请求签名,\u003C\u002Fspan\u003E resultCode=103101}\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan style=\"color: #000000;\"\u003E\u003Cstrong\u003E\u003Cspan class=\"lake-fontsize-11\"\u003E【获取token失败、错误的请求签名、103101】\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E工程中的Info.plist中添加bundleId对应的key-value。\u003C\u002Fspan\u003E\u003Cspan style=\"color: #000000;\"\u003E搜索Xcode项目工程中的.strings\u003C\u002Fspan\u003E\u003Cspan style=\"color: #000000;\"\u003E国际化\u003C\u002Fspan\u003E\u003Cspan style=\"color: #000000;\"\u003E文件，\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E如果app存在本地国际化文件\u003Cstrong\u003E，\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #000000;\"\u003E请在每个本地国际化文件中添加CFBundleIdentifier，各个语言版本文件中都需要添加。\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan class=\"lake-fontsize-11\" style=\"color: #F5222D;\"\u003E\u003Cbr \u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fcdn.nlark.com\u002Fyuque\u002F0\u002F2019\u002Fpng\u002F282058\u002F1560861181669-f69d6081-2d59-4f63-aa47-f19be03f1d8a.png#align=left&amp;display=inline&amp;height=193&amp;name=image.png&amp;originHeight=273&amp;originWidth=1055&amp;size=217095&amp;status=done&amp;width=746#align=left&amp;display=inline&amp;height=193&amp;originHeight=273&amp;originWidth=1055&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan style=\"color: #000000;\"\u003E\u003Cstrong\u003E3.联通预取号崩溃【预取号+联通+崩溃、NSDictionary + setObject、空指针】\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cspan style=\"color: #000000;\"\u003E\u003Cstrong\u003E联通SDK内部会读取校验info.plist文件中Bundle identifier、Bundle name、Bundle versions string, short、Bundle version字段，如未配置相关字段Value会导致以下崩溃\u003C\u002Fstrong\u003E\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\"color: #F5222D;\"\u003E\u003Cimg src=\"https:\u002F\u002Fcdn.nlark.com\u002Fyuque\u002F0\u002F2019\u002Fpng\u002F282058\u002F1560864028480-622a89e9-ef86-4b51-a85a-ce95fb0ed636.png#align=left&amp;display=inline&amp;height=328&amp;name=image.png&amp;originHeight=656&amp;originWidth=1320&amp;size=140016&amp;status=done&amp;width=660#align=left&amp;display=inline&amp;height=328&amp;originHeight=656&amp;originWidth=1320&amp;status=done&amp;width=660\" style=\"max-width: 600px; width: 660px;\" \u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\"color: #F5222D;\"\u003E\u003Cbr \u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\"color: #F5222D;\"\u003E\u003Cimg src=\"https:\u002F\u002Fcdn.nlark.com\u002Fyuque\u002F0\u002F2019\u002Fpng\u002F282058\u002F1560864129981-37945b3f-f570-4806-8e1e-0b3836f674f8.png#align=left&amp;display=inline&amp;height=479&amp;name=image.png&amp;originHeight=582&amp;originWidth=808&amp;size=645871&amp;status=done&amp;width=665#align=left&amp;display=inline&amp;height=479&amp;originHeight=582&amp;originWidth=808&amp;status=done&amp;width=665\" style=\"max-width: 600px; width: 665px;\" \u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr \u002F\u003E\u003C\u002Fp\u003E",activeName:g,productName:"闪验SDK",labelName:h,openID:[b],cateName:i}],error:j,state:{userStatus:false,doc:j},serverRendered:a}}(true,93,91,92,94,"账号创建",299,"IOS V2.2.0","开发文档",null));</script><script src="/_nuxt/8d056adb7e9f1b88b3d7.js" defer></script><script src="/_nuxt/fce6144227f1f7af22b6.js" defer></script><script src="/_nuxt/562819d5bb565713fe86.js" defer></script><script src="/_nuxt/d05e5ad6bf80d7b94e15.js" defer></script><script src="/_nuxt/d98ed623b7b0d88d34e6.js" defer></script>
    </body>
</html>

